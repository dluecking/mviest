Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 16
Job stats:
job                                        count    min threads    max threads
---------------------------------------  -------  -------------  -------------
DeepVirFinder                                 14              1              1
all                                            1              1              1
check_input                                   14              1              1
checkv                                        14              1              1
contig_selector                               14              1              1
contig_summary                                14              1              1
count_virome_contigs                          14              1              1
filter_input_by_length                        14              1              1
kaiju                                         14              1              1
map_mv_positive_reads_to_metagenome           14              1              1
map_virome_reads_to_mv_contigs                14              1              1
map_virome_reads_to_true_virome_contigs       14              1              1
mviest_plot                                   14              1              1
mviest_summary                                14              1              1
platon                                        14              1              1
viromeQC                                      14              1              1
vs2                                           14              1              1
vs2_summary                                   14              1              1
total                                        239              1              1

Select jobs to execute...

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/122_SRF/reads/virome.reads1.fastq.gz, results/122_SRF/reads/virome.reads2.fastq.gz, results/122_SRF/contigs/virome.contigs.fasta, results/122_SRF/contigs/metagenome.contigs.fasta
    output: results/122_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 13
    reason: Missing output files: results/122_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp

touch results/122_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/122_DCM/reads/virome.reads1.fastq.gz, results/122_DCM/reads/virome.reads2.fastq.gz, results/122_DCM/contigs/virome.contigs.fasta, results/122_DCM/contigs/metagenome.contigs.fasta
    output: results/122_DCM/log/00_INPUT_CHECK_DONE.log
    jobid: 11
    reason: Missing output files: results/122_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp

touch results/122_DCM/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/109_DCM/reads/virome.reads1.fastq.gz, results/109_DCM/reads/virome.reads2.fastq.gz, results/109_DCM/contigs/virome.contigs.fasta, results/109_DCM/contigs/metagenome.contigs.fasta
    output: results/109_DCM/log/00_INPUT_CHECK_DONE.log
    jobid: 6
    reason: Missing output files: results/109_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp

touch results/109_DCM/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/100_SRF/reads/virome.reads1.fastq.gz, results/100_SRF/reads/virome.reads2.fastq.gz, results/100_SRF/contigs/virome.contigs.fasta, results/100_SRF/contigs/metagenome.contigs.fasta
    output: results/100_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 2
    reason: Missing output files: results/100_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp

touch results/100_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/123_MIX/reads/virome.reads1.fastq.gz, results/123_MIX/reads/virome.reads2.fastq.gz, results/123_MIX/contigs/virome.contigs.fasta, results/123_MIX/contigs/metagenome.contigs.fasta
    output: results/123_MIX/log/00_INPUT_CHECK_DONE.log
    jobid: 14
    reason: Missing output files: results/123_MIX/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp

touch results/123_MIX/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/111_SRF/reads/virome.reads1.fastq.gz, results/111_SRF/reads/virome.reads2.fastq.gz, results/111_SRF/contigs/virome.contigs.fasta, results/111_SRF/contigs/metagenome.contigs.fasta
    output: results/111_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 9
    reason: Missing output files: results/111_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp

touch results/111_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/109_SRF/reads/virome.reads1.fastq.gz, results/109_SRF/reads/virome.reads2.fastq.gz, results/109_SRF/contigs/virome.contigs.fasta, results/109_SRF/contigs/metagenome.contigs.fasta
    output: results/109_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 7
    reason: Missing output files: results/109_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp

touch results/109_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/100_DCM/reads/virome.reads1.fastq.gz, results/100_DCM/reads/virome.reads2.fastq.gz, results/100_DCM/contigs/virome.contigs.fasta, results/100_DCM/contigs/metagenome.contigs.fasta
    output: results/100_DCM/log/00_INPUT_CHECK_DONE.log
    jobid: 1
    reason: Missing output files: results/100_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp

touch results/100_DCM/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/102_DCM/reads/virome.reads1.fastq.gz, results/102_DCM/reads/virome.reads2.fastq.gz, results/102_DCM/contigs/virome.contigs.fasta, results/102_DCM/contigs/metagenome.contigs.fasta
    output: results/102_DCM/log/00_INPUT_CHECK_DONE.log
    jobid: 3
    reason: Missing output files: results/102_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp

touch results/102_DCM/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/102_MES/reads/virome.reads1.fastq.gz, results/102_MES/reads/virome.reads2.fastq.gz, results/102_MES/contigs/virome.contigs.fasta, results/102_MES/contigs/metagenome.contigs.fasta
    output: results/102_MES/log/00_INPUT_CHECK_DONE.log
    jobid: 4
    reason: Missing output files: results/102_MES/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_MES
    resources: tmpdir=/tmp

touch results/102_MES/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/102_SRF/reads/virome.reads1.fastq.gz, results/102_SRF/reads/virome.reads2.fastq.gz, results/102_SRF/contigs/virome.contigs.fasta, results/102_SRF/contigs/metagenome.contigs.fasta
    output: results/102_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 5
    reason: Missing output files: results/102_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp

touch results/102_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/122_MES/reads/virome.reads1.fastq.gz, results/122_MES/reads/virome.reads2.fastq.gz, results/122_MES/contigs/virome.contigs.fasta, results/122_MES/contigs/metagenome.contigs.fasta
    output: results/122_MES/log/00_INPUT_CHECK_DONE.log
    jobid: 12
    reason: Missing output files: results/122_MES/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_MES
    resources: tmpdir=/tmp

touch results/122_MES/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/11_SRF/reads/virome.reads1.fastq.gz, results/11_SRF/reads/virome.reads2.fastq.gz, results/11_SRF/contigs/virome.contigs.fasta, results/11_SRF/contigs/metagenome.contigs.fasta
    output: results/11_SRF/log/00_INPUT_CHECK_DONE.log
    jobid: 10
    reason: Missing output files: results/11_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp

touch results/11_SRF/log/00_INPUT_CHECK_DONE.log

[Fri Jun 17 16:24:01 2022]
localrule check_input:
    input: results/111_DCM/reads/virome.reads1.fastq.gz, results/111_DCM/reads/virome.reads2.fastq.gz, results/111_DCM/contigs/virome.contigs.fasta, results/111_DCM/contigs/metagenome.contigs.fasta
    output: results/111_DCM/log/00_INPUT_CHECK_DONE.log
    jobid: 8
    reason: Missing output files: results/111_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp

touch results/111_DCM/log/00_INPUT_CHECK_DONE.log
[Fri Jun 17 16:24:01 2022]
Finished job 13.
1 of 239 steps (0.4%) done
[Fri Jun 17 16:24:01 2022]
Finished job 11.
2 of 239 steps (1%) done
[Fri Jun 17 16:24:01 2022]
Finished job 6.
3 of 239 steps (1%) done
[Fri Jun 17 16:24:01 2022]
Finished job 2.
4 of 239 steps (2%) done
[Fri Jun 17 16:24:01 2022]
Finished job 14.
5 of 239 steps (2%) done
[Fri Jun 17 16:24:01 2022]
Finished job 9.
6 of 239 steps (3%) done
[Fri Jun 17 16:24:01 2022]
Finished job 7.
7 of 239 steps (3%) done
[Fri Jun 17 16:24:01 2022]
Finished job 1.
8 of 239 steps (3%) done
[Fri Jun 17 16:24:02 2022]
Finished job 3.
9 of 239 steps (4%) done
[Fri Jun 17 16:24:02 2022]
Finished job 4.
10 of 239 steps (4%) done
[Fri Jun 17 16:24:02 2022]
Finished job 5.
11 of 239 steps (5%) done
[Fri Jun 17 16:24:02 2022]
Finished job 12.
12 of 239 steps (5%) done
[Fri Jun 17 16:24:02 2022]
Finished job 10.
13 of 239 steps (5%) done
Select jobs to execute...

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/102_DCM/contigs/virome.contigs.fasta, results/102_DCM/contigs/metagenome.contigs.fasta, results/102_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 53
    reason: Missing output files: results/102_DCM/contigs/metagenome.contigs.filtered.fasta, results/102_DCM/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/102_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_DCM/contigs/virome.contigs.fasta         2000 > results/102_DCM/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/102_DCM/contigs/metagenome.contigs.fasta         2000 > results/102_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/123_MIX/contigs/virome.contigs.fasta, results/123_MIX/contigs/metagenome.contigs.fasta, results/123_MIX/log/00_INPUT_CHECK_DONE.log
    output: results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/contigs/metagenome.contigs.filtered.fasta
    jobid: 229
    reason: Missing output files: results/123_MIX/contigs/metagenome.contigs.filtered.fasta, results/123_MIX/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/123_MIX/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/123_MIX/contigs/virome.contigs.fasta         2000 > results/123_MIX/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/123_MIX/contigs/metagenome.contigs.fasta         2000 > results/123_MIX/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/109_SRF/contigs/virome.contigs.fasta, results/109_SRF/contigs/metagenome.contigs.fasta, results/109_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 117
    reason: Missing output files: results/109_SRF/contigs/metagenome.contigs.filtered.fasta, results/109_SRF/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/109_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/109_SRF/contigs/virome.contigs.fasta         2000 > results/109_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/109_SRF/contigs/metagenome.contigs.fasta         2000 > results/109_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/111_SRF/contigs/virome.contigs.fasta, results/111_SRF/contigs/metagenome.contigs.fasta, results/111_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 149
    reason: Missing output files: results/111_SRF/contigs/metagenome.contigs.filtered.fasta, results/111_SRF/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/111_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/111_SRF/contigs/virome.contigs.fasta         2000 > results/111_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/111_SRF/contigs/metagenome.contigs.fasta         2000 > results/111_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/109_DCM/contigs/virome.contigs.fasta, results/109_DCM/contigs/metagenome.contigs.fasta, results/109_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 101
    reason: Missing output files: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/contigs/metagenome.contigs.filtered.fasta; Input files updated by another job: results/109_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/109_DCM/contigs/virome.contigs.fasta         2000 > results/109_DCM/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/109_DCM/contigs/metagenome.contigs.fasta         2000 > results/109_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/102_MES/contigs/virome.contigs.fasta, results/102_MES/contigs/metagenome.contigs.fasta, results/102_MES/log/00_INPUT_CHECK_DONE.log
    output: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/contigs/metagenome.contigs.filtered.fasta
    jobid: 69
    reason: Missing output files: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/contigs/metagenome.contigs.filtered.fasta; Input files updated by another job: results/102_MES/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_MES
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_MES/contigs/virome.contigs.fasta         2000 > results/102_MES/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/102_MES/contigs/metagenome.contigs.fasta         2000 > results/102_MES/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/122_MES/contigs/virome.contigs.fasta, results/122_MES/contigs/metagenome.contigs.fasta, results/122_MES/log/00_INPUT_CHECK_DONE.log
    output: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/contigs/metagenome.contigs.filtered.fasta
    jobid: 197
    reason: Missing output files: results/122_MES/contigs/metagenome.contigs.filtered.fasta, results/122_MES/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/122_MES/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_MES
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_MES/contigs/virome.contigs.fasta         2000 > results/122_MES/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/122_MES/contigs/metagenome.contigs.fasta         2000 > results/122_MES/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/11_SRF/contigs/virome.contigs.fasta, results/11_SRF/contigs/metagenome.contigs.fasta, results/11_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 165
    reason: Missing output files: results/11_SRF/contigs/metagenome.contigs.filtered.fasta, results/11_SRF/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/11_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/11_SRF/contigs/virome.contigs.fasta         2000 > results/11_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/11_SRF/contigs/metagenome.contigs.fasta         2000 > results/11_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/100_SRF/contigs/virome.contigs.fasta, results/100_SRF/contigs/metagenome.contigs.fasta, results/100_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 37
    reason: Missing output files: results/100_SRF/contigs/metagenome.contigs.filtered.fasta, results/100_SRF/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/100_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/100_SRF/contigs/virome.contigs.fasta         2000 > results/100_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/100_SRF/contigs/metagenome.contigs.fasta         2000 > results/100_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/122_SRF/contigs/virome.contigs.fasta, results/122_SRF/contigs/metagenome.contigs.fasta, results/122_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 213
    reason: Missing output files: results/122_SRF/contigs/metagenome.contigs.filtered.fasta, results/122_SRF/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/122_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_SRF/contigs/virome.contigs.fasta         2000 > results/122_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/122_SRF/contigs/metagenome.contigs.fasta         2000 > results/122_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/122_DCM/contigs/virome.contigs.fasta, results/122_DCM/contigs/metagenome.contigs.fasta, results/122_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 181
    reason: Missing output files: results/122_DCM/contigs/metagenome.contigs.filtered.fasta, results/122_DCM/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/122_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_DCM/contigs/virome.contigs.fasta         2000 > results/122_DCM/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/122_DCM/contigs/metagenome.contigs.fasta         2000 > results/122_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/100_DCM/contigs/virome.contigs.fasta, results/100_DCM/contigs/metagenome.contigs.fasta, results/100_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 21
    reason: Missing output files: results/100_DCM/contigs/metagenome.contigs.filtered.fasta, results/100_DCM/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/100_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/100_DCM/contigs/virome.contigs.fasta         2000 > results/100_DCM/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/100_DCM/contigs/metagenome.contigs.fasta         2000 > results/100_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/102_SRF/contigs/virome.contigs.fasta, results/102_SRF/contigs/metagenome.contigs.fasta, results/102_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 85
    reason: Missing output files: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/contigs/metagenome.contigs.filtered.fasta; Input files updated by another job: results/102_SRF/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_SRF/contigs/virome.contigs.fasta         2000 > results/102_SRF/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/102_SRF/contigs/metagenome.contigs.fasta         2000 > results/102_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Fri Jun 17 16:24:02 2022]
Finished job 8.
14 of 239 steps (6%) done
Select jobs to execute...

[Fri Jun 17 16:24:02 2022]
localrule filter_input_by_length:
    input: results/111_DCM/contigs/virome.contigs.fasta, results/111_DCM/contigs/metagenome.contigs.fasta, results/111_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 133
    reason: Missing output files: results/111_DCM/contigs/metagenome.contigs.filtered.fasta, results/111_DCM/contigs/virome.contigs.filtered.fasta; Input files updated by another job: results/111_DCM/log/00_INPUT_CHECK_DONE.log
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/111_DCM/contigs/virome.contigs.fasta         2000 > results/111_DCM/contigs/virome.contigs.filtered.fasta

        python3 scripts/filter_by_len.py results/111_DCM/contigs/metagenome.contigs.fasta         2000 > results/111_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Fri Jun 17 16:35:20 2022]
Finished job 165.
15 of 239 steps (6%) done
Select jobs to execute...

[Fri Jun 17 16:35:20 2022]
localrule count_virome_contigs:
    input: results/11_SRF/contigs/virome.contigs.filtered.fasta
    output: results/11_SRF/enough_filtered_virome_contigs.txt
    jobid: 168
    reason: Missing output files: results/11_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/11_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/11_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/11_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/11_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:35:24 2022]
Finished job 133.
16 of 239 steps (7%) done
Select jobs to execute...

[Fri Jun 17 16:35:24 2022]
localrule count_virome_contigs:
    input: results/111_DCM/contigs/virome.contigs.filtered.fasta
    output: results/111_DCM/enough_filtered_virome_contigs.txt
    jobid: 136
    reason: Missing output files: results/111_DCM/enough_filtered_virome_contigs.txt; Input files updated by another job: results/111_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp


        n=$(grep '>' results/111_DCM/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/111_DCM/enough_filtered_virome_contigs.txt
        else
            touch results/111_DCM/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:35:30 2022]
Finished job 168.
17 of 239 steps (7%) done
Select jobs to execute...

[Fri Jun 17 16:35:34 2022]
rule vs2:
    input: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/enough_filtered_virome_contigs.txt
    output: results/11_SRF/vs2/final-viral-combined.fa, results/11_SRF/vs2/final-viral-score.tsv
    jobid: 167
    reason: Missing output files: results/11_SRF/vs2/final-viral-combined.fa, results/11_SRF/vs2/final-viral-score.tsv; Input files updated by another job: results/11_SRF/enough_filtered_virome_contigs.txt, results/11_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/11_SRF/contigs/virome.contigs.filtered.fasta         -w results/11_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 167 with external jobid 'Submitted batch job 27756'.

[Fri Jun 17 16:35:37 2022]
rule platon:
    input: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/enough_filtered_virome_contigs.txt
    output: results/11_SRF/platon_out/platon_plasmids.log
    jobid: 171
    reason: Missing output files: results/11_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/11_SRF/enough_filtered_virome_contigs.txt, results/11_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/11_SRF/platon_out/         --threads 8         results/11_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 171 with external jobid 'Submitted batch job 27757'.

[Fri Jun 17 16:35:40 2022]
rule DeepVirFinder:
    input: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/enough_filtered_virome_contigs.txt
    output: results/11_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 170
    reason: Missing output files: results/11_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/11_SRF/enough_filtered_virome_contigs.txt, results/11_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/11_SRF/contigs/virome.contigs.filtered.fasta         -o results/11_SRF/dvf -c 8
        
Submitted job 170 with external jobid 'Submitted batch job 27758'.
[Fri Jun 17 16:35:45 2022]
Finished job 197.
18 of 239 steps (8%) done
Select jobs to execute...

[Fri Jun 17 16:35:45 2022]
localrule count_virome_contigs:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta
    output: results/122_MES/enough_filtered_virome_contigs.txt
    jobid: 200
    reason: Missing output files: results/122_MES/enough_filtered_virome_contigs.txt; Input files updated by another job: results/122_MES/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_MES
    resources: tmpdir=/tmp


        n=$(grep '>' results/122_MES/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/122_MES/enough_filtered_virome_contigs.txt
        else
            touch results/122_MES/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:35:49 2022]
Finished job 136.
19 of 239 steps (8%) done
Select jobs to execute...

[Fri Jun 17 16:35:52 2022]
rule vs2:
    input: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    output: results/111_DCM/vs2/final-viral-combined.fa, results/111_DCM/vs2/final-viral-score.tsv
    jobid: 135
    reason: Missing output files: results/111_DCM/vs2/final-viral-combined.fa, results/111_DCM/vs2/final-viral-score.tsv; Input files updated by another job: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/111_DCM/contigs/virome.contigs.filtered.fasta         -w results/111_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 135 with external jobid 'Submitted batch job 27759'.
[Fri Jun 17 16:36:29 2022]
Finished job 117.
20 of 239 steps (8%) done
Select jobs to execute...

[Fri Jun 17 16:36:31 2022]
localrule count_virome_contigs:
    input: results/109_SRF/contigs/virome.contigs.filtered.fasta
    output: results/109_SRF/enough_filtered_virome_contigs.txt
    jobid: 120
    reason: Missing output files: results/109_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/109_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/109_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/109_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/109_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:36:37 2022]
Finished job 229.
21 of 239 steps (9%) done
Select jobs to execute...

[Fri Jun 17 16:36:38 2022]
rule DeepVirFinder:
    input: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    output: results/111_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 138
    reason: Missing output files: results/111_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/111_DCM/contigs/virome.contigs.filtered.fasta         -o results/111_DCM/dvf -c 8
        
Submitted job 138 with external jobid 'Submitted batch job 27760'.
[Fri Jun 17 16:36:57 2022]
Finished job 200.
22 of 239 steps (9%) done
Select jobs to execute...

[Fri Jun 17 16:37:00 2022]
rule platon:
    input: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    output: results/111_DCM/platon_out/platon_plasmids.log
    jobid: 139
    reason: Missing output files: results/111_DCM/platon_out/platon_plasmids.log; Input files updated by another job: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/111_DCM/platon_out/         --threads 8         results/111_DCM/contigs/virome.contigs.filtered.fasta
        
Submitted job 139 with external jobid 'Submitted batch job 27761'.
[Fri Jun 17 16:37:05 2022]
Finished job 120.
23 of 239 steps (10%) done
Select jobs to execute...

[Fri Jun 17 16:37:06 2022]
rule vs2:
    input: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    output: results/109_SRF/vs2/final-viral-combined.fa, results/109_SRF/vs2/final-viral-score.tsv
    jobid: 119
    reason: Missing output files: results/109_SRF/vs2/final-viral-combined.fa, results/109_SRF/vs2/final-viral-score.tsv; Input files updated by another job: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/109_SRF/contigs/virome.contigs.filtered.fasta         -w results/109_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 119 with external jobid 'Submitted batch job 27762'.
[Fri Jun 17 16:39:10 2022]
Finished job 149.
24 of 239 steps (10%) done
Select jobs to execute...

[Fri Jun 17 16:39:15 2022]
rule vs2:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/enough_filtered_virome_contigs.txt
    output: results/122_MES/vs2/final-viral-combined.fa, results/122_MES/vs2/final-viral-score.tsv
    jobid: 199
    reason: Missing output files: results/122_MES/vs2/final-viral-score.tsv, results/122_MES/vs2/final-viral-combined.fa; Input files updated by another job: results/122_MES/enough_filtered_virome_contigs.txt, results/122_MES/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/122_MES/contigs/virome.contigs.filtered.fasta         -w results/122_MES/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 199 with external jobid 'Submitted batch job 27763'.
[Fri Jun 17 16:39:27 2022]
Finished job 181.
25 of 239 steps (10%) done
Select jobs to execute...

[Fri Jun 17 16:39:28 2022]
localrule count_virome_contigs:
    input: results/122_DCM/contigs/virome.contigs.filtered.fasta
    output: results/122_DCM/enough_filtered_virome_contigs.txt
    jobid: 184
    reason: Missing output files: results/122_DCM/enough_filtered_virome_contigs.txt; Input files updated by another job: results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp


        n=$(grep '>' results/122_DCM/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/122_DCM/enough_filtered_virome_contigs.txt
        else
            touch results/122_DCM/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:39:30 2022]
Finished job 101.
26 of 239 steps (11%) done
Select jobs to execute...

[Fri Jun 17 16:39:31 2022]
localrule count_virome_contigs:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta
    output: results/109_DCM/enough_filtered_virome_contigs.txt
    jobid: 104
    reason: Missing output files: results/109_DCM/enough_filtered_virome_contigs.txt; Input files updated by another job: results/109_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp


        n=$(grep '>' results/109_DCM/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/109_DCM/enough_filtered_virome_contigs.txt
        else
            touch results/109_DCM/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:39:33 2022]
Finished job 37.
27 of 239 steps (11%) done
Select jobs to execute...

[Fri Jun 17 16:39:34 2022]
localrule count_virome_contigs:
    input: results/100_SRF/contigs/virome.contigs.filtered.fasta
    output: results/100_SRF/enough_filtered_virome_contigs.txt
    jobid: 40
    reason: Missing output files: results/100_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/100_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/100_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/100_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/100_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:39:37 2022]
Finished job 213.
28 of 239 steps (12%) done
Select jobs to execute...

[Fri Jun 17 16:39:37 2022]
localrule count_virome_contigs:
    input: results/122_SRF/contigs/virome.contigs.filtered.fasta
    output: results/122_SRF/enough_filtered_virome_contigs.txt
    jobid: 216
    reason: Missing output files: results/122_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/122_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/122_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/122_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/122_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:39:42 2022]
Finished job 85.
29 of 239 steps (12%) done
Select jobs to execute...

[Fri Jun 17 16:39:43 2022]
localrule count_virome_contigs:
    input: results/102_SRF/contigs/virome.contigs.filtered.fasta
    output: results/102_SRF/enough_filtered_virome_contigs.txt
    jobid: 88
    reason: Missing output files: results/102_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/102_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/102_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/102_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/102_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 16:39:45 2022]
Finished job 184.
30 of 239 steps (13%) done
Select jobs to execute...

[Fri Jun 17 16:39:45 2022]
rule platon:
    input: results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/enough_filtered_virome_contigs.txt
    output: results/122_DCM/platon_out/platon_plasmids.log
    jobid: 187
    reason: Missing output files: results/122_DCM/platon_out/platon_plasmids.log; Input files updated by another job: results/122_DCM/enough_filtered_virome_contigs.txt, results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/122_DCM/platon_out/         --threads 8         results/122_DCM/contigs/virome.contigs.filtered.fasta
        
Submitted job 187 with external jobid 'Submitted batch job 27764'.
[Fri Jun 17 16:39:47 2022]
Finished job 21.
31 of 239 steps (13%) done
[Fri Jun 17 16:39:47 2022]
Finished job 53.
32 of 239 steps (13%) done
[Fri Jun 17 16:39:47 2022]
Finished job 104.
33 of 239 steps (14%) done
[Fri Jun 17 16:39:48 2022]
Finished job 40.
34 of 239 steps (14%) done
Select jobs to execute...

[Fri Jun 17 16:39:48 2022]
localrule count_virome_contigs:
    input: results/102_DCM/contigs/virome.contigs.filtered.fasta
    output: results/102_DCM/enough_filtered_virome_contigs.txt
    jobid: 56
    reason: Missing output files: results/102_DCM/enough_filtered_virome_contigs.txt; Input files updated by another job: results/102_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp


        n=$(grep '>' results/102_DCM/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/102_DCM/enough_filtered_virome_contigs.txt
        else
            touch results/102_DCM/NOT_enough_filtered_virome_contigs.txt
        fi
        

[Fri Jun 17 16:39:48 2022]
localrule count_virome_contigs:
    input: results/100_DCM/contigs/virome.contigs.filtered.fasta
    output: results/100_DCM/enough_filtered_virome_contigs.txt
    jobid: 24
    reason: Missing output files: results/100_DCM/enough_filtered_virome_contigs.txt; Input files updated by another job: results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp


        n=$(grep '>' results/100_DCM/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/100_DCM/enough_filtered_virome_contigs.txt
        else
            touch results/100_DCM/NOT_enough_filtered_virome_contigs.txt
        fi
        

[Fri Jun 17 16:39:48 2022]
rule platon:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/enough_filtered_virome_contigs.txt
    output: results/122_MES/platon_out/platon_plasmids.log
    jobid: 203
    reason: Missing output files: results/122_MES/platon_out/platon_plasmids.log; Input files updated by another job: results/122_MES/enough_filtered_virome_contigs.txt, results/122_MES/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/122_MES/platon_out/         --threads 8         results/122_MES/contigs/virome.contigs.filtered.fasta
        
Submitted job 203 with external jobid 'Submitted batch job 27765'.

[Fri Jun 17 16:39:49 2022]
rule DeepVirFinder:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/enough_filtered_virome_contigs.txt
    output: results/122_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 202
    reason: Missing output files: results/122_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/122_MES/enough_filtered_virome_contigs.txt, results/122_MES/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/122_MES/contigs/virome.contigs.filtered.fasta         -o results/122_MES/dvf -c 8
        
Submitted job 202 with external jobid 'Submitted batch job 27766'.
[Fri Jun 17 16:39:49 2022]
Finished job 69.
35 of 239 steps (15%) done
[Fri Jun 17 16:39:50 2022]
Finished job 216.
36 of 239 steps (15%) done
[Fri Jun 17 16:39:50 2022]
Finished job 88.
37 of 239 steps (15%) done
Select jobs to execute...

[Fri Jun 17 16:39:50 2022]
rule vs2:
    input: results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/enough_filtered_virome_contigs.txt
    output: results/122_SRF/vs2/final-viral-combined.fa, results/122_SRF/vs2/final-viral-score.tsv
    jobid: 215
    reason: Missing output files: results/122_SRF/vs2/final-viral-combined.fa, results/122_SRF/vs2/final-viral-score.tsv; Input files updated by another job: results/122_SRF/enough_filtered_virome_contigs.txt, results/122_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/122_SRF/contigs/virome.contigs.filtered.fasta         -w results/122_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 215 with external jobid 'Submitted batch job 27767'.

[Fri Jun 17 16:39:50 2022]
rule platon:
    input: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/enough_filtered_virome_contigs.txt
    output: results/100_SRF/platon_out/platon_plasmids.log
    jobid: 43
    reason: Missing output files: results/100_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/100_SRF/enough_filtered_virome_contigs.txt, results/100_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/100_SRF/platon_out/         --threads 8         results/100_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 43 with external jobid 'Submitted batch job 27768'.

[Fri Jun 17 16:39:51 2022]
rule vs2:
    input: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/enough_filtered_virome_contigs.txt
    output: results/100_SRF/vs2/final-viral-combined.fa, results/100_SRF/vs2/final-viral-score.tsv
    jobid: 39
    reason: Missing output files: results/100_SRF/vs2/final-viral-score.tsv, results/100_SRF/vs2/final-viral-combined.fa; Input files updated by another job: results/100_SRF/enough_filtered_virome_contigs.txt, results/100_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/100_SRF/contigs/virome.contigs.filtered.fasta         -w results/100_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 39 with external jobid 'Submitted batch job 27769'.
Select jobs to execute...
[Fri Jun 17 16:39:52 2022]
Finished job 24.
38 of 239 steps (16%) done

[Fri Jun 17 16:39:52 2022]
rule DeepVirFinder:
    input: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    output: results/102_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 90
    reason: Missing output files: results/102_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/102_SRF/contigs/virome.contigs.filtered.fasta         -o results/102_SRF/dvf -c 8
        
Submitted job 90 with external jobid 'Submitted batch job 27770'.
[Fri Jun 17 16:39:52 2022]
Finished job 56.
39 of 239 steps (16%) done
Select jobs to execute...

[Fri Jun 17 16:39:52 2022]
rule platon:
    input: results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/enough_filtered_virome_contigs.txt
    output: results/100_DCM/platon_out/platon_plasmids.log
    jobid: 27
    reason: Missing output files: results/100_DCM/platon_out/platon_plasmids.log; Input files updated by another job: results/100_DCM/enough_filtered_virome_contigs.txt, results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/100_DCM/platon_out/         --threads 8         results/100_DCM/contigs/virome.contigs.filtered.fasta
        
Submitted job 27 with external jobid 'Submitted batch job 27771'.
[Fri Jun 17 16:43:46 2022]
Finished job 170.
40 of 239 steps (17%) done
Select jobs to execute...

[Fri Jun 17 16:43:46 2022]
rule vs2:
    input: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    output: results/102_DCM/vs2/final-viral-combined.fa, results/102_DCM/vs2/final-viral-score.tsv
    jobid: 55
    reason: Missing output files: results/102_DCM/vs2/final-viral-combined.fa, results/102_DCM/vs2/final-viral-score.tsv; Input files updated by another job: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/102_DCM/contigs/virome.contigs.filtered.fasta         -w results/102_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 55 with external jobid 'Submitted batch job 27772'.
[Fri Jun 17 17:03:14 2022]
Finished job 138.
41 of 239 steps (17%) done
Select jobs to execute...

[Fri Jun 17 17:03:14 2022]
rule DeepVirFinder:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 106
    reason: Missing output files: results/109_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/109_DCM/contigs/virome.contigs.filtered.fasta         -o results/109_DCM/dvf -c 8
        
Submitted job 106 with external jobid 'Submitted batch job 27773'.
[Fri Jun 17 17:06:11 2022]
Finished job 90.
42 of 239 steps (18%) done
Select jobs to execute...

[Fri Jun 17 17:06:11 2022]
rule vs2:
    input: results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/enough_filtered_virome_contigs.txt
    output: results/100_DCM/vs2/final-viral-combined.fa, results/100_DCM/vs2/final-viral-score.tsv
    jobid: 23
    reason: Missing output files: results/100_DCM/vs2/final-viral-score.tsv, results/100_DCM/vs2/final-viral-combined.fa; Input files updated by another job: results/100_DCM/enough_filtered_virome_contigs.txt, results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/100_DCM/contigs/virome.contigs.filtered.fasta         -w results/100_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 23 with external jobid 'Submitted batch job 27774'.
[Fri Jun 17 17:28:22 2022]
Finished job 106.
43 of 239 steps (18%) done
Select jobs to execute...

[Fri Jun 17 17:28:23 2022]
localrule count_virome_contigs:
    input: results/123_MIX/contigs/virome.contigs.filtered.fasta
    output: results/123_MIX/enough_filtered_virome_contigs.txt
    jobid: 232
    reason: Missing output files: results/123_MIX/enough_filtered_virome_contigs.txt; Input files updated by another job: results/123_MIX/contigs/virome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp


        n=$(grep '>' results/123_MIX/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/123_MIX/enough_filtered_virome_contigs.txt
        else
            touch results/123_MIX/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 17:28:27 2022]
Finished job 232.
44 of 239 steps (18%) done
Select jobs to execute...

[Fri Jun 17 17:28:27 2022]
localrule count_virome_contigs:
    input: results/102_MES/contigs/virome.contigs.filtered.fasta
    output: results/102_MES/enough_filtered_virome_contigs.txt
    jobid: 72
    reason: Missing output files: results/102_MES/enough_filtered_virome_contigs.txt; Input files updated by another job: results/102_MES/contigs/virome.contigs.filtered.fasta
    wildcards: sample=102_MES
    resources: tmpdir=/tmp


        n=$(grep '>' results/102_MES/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/102_MES/enough_filtered_virome_contigs.txt
        else
            touch results/102_MES/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Fri Jun 17 17:28:30 2022]
Finished job 72.
45 of 239 steps (19%) done
Select jobs to execute...

[Fri Jun 17 17:28:30 2022]
rule vs2:
    input: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    output: results/102_MES/vs2/final-viral-combined.fa, results/102_MES/vs2/final-viral-score.tsv
    jobid: 71
    reason: Missing output files: results/102_MES/vs2/final-viral-score.tsv, results/102_MES/vs2/final-viral-combined.fa; Input files updated by another job: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/102_MES/contigs/virome.contigs.filtered.fasta         -w results/102_MES/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 71 with external jobid 'Submitted batch job 27776'.
[Fri Jun 17 17:48:56 2022]
Finished job 202.
46 of 239 steps (19%) done
Select jobs to execute...

[Fri Jun 17 17:48:56 2022]
rule DeepVirFinder:
    input: results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/enough_filtered_virome_contigs.txt
    output: results/122_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 218
    reason: Missing output files: results/122_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/122_SRF/enough_filtered_virome_contigs.txt, results/122_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/122_SRF/contigs/virome.contigs.filtered.fasta         -o results/122_SRF/dvf -c 8
        
Submitted job 218 with external jobid 'Submitted batch job 27777'.
[Fri Jun 17 18:13:43 2022]
Finished job 218.
47 of 239 steps (20%) done
Select jobs to execute...

[Fri Jun 17 18:13:43 2022]
rule vs2:
    input: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    output: results/102_SRF/vs2/final-viral-combined.fa, results/102_SRF/vs2/final-viral-score.tsv
    jobid: 87
    reason: Missing output files: results/102_SRF/vs2/final-viral-combined.fa, results/102_SRF/vs2/final-viral-score.tsv; Input files updated by another job: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/102_SRF/contigs/virome.contigs.filtered.fasta         -w results/102_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 87 with external jobid 'Submitted batch job 27778'.
[Fri Jun 17 18:45:17 2022]
Finished job 171.
48 of 239 steps (20%) done
Select jobs to execute...

[Fri Jun 17 18:45:17 2022]
rule DeepVirFinder:
    input: results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/enough_filtered_virome_contigs.txt
    output: results/123_MIX/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 234
    reason: Missing output files: results/123_MIX/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/123_MIX/enough_filtered_virome_contigs.txt, results/123_MIX/contigs/virome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/123_MIX/contigs/virome.contigs.filtered.fasta         -o results/123_MIX/dvf -c 8
        
Submitted job 234 with external jobid 'Submitted batch job 27779'.
[Fri Jun 17 19:20:10 2022]
Finished job 234.
49 of 239 steps (21%) done
Select jobs to execute...

[Fri Jun 17 19:20:10 2022]
rule vs2:
    input: results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/enough_filtered_virome_contigs.txt
    output: results/122_DCM/vs2/final-viral-combined.fa, results/122_DCM/vs2/final-viral-score.tsv
    jobid: 183
    reason: Missing output files: results/122_DCM/vs2/final-viral-combined.fa, results/122_DCM/vs2/final-viral-score.tsv; Input files updated by another job: results/122_DCM/enough_filtered_virome_contigs.txt, results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/122_DCM/contigs/virome.contigs.filtered.fasta         -w results/122_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 183 with external jobid 'Submitted batch job 27780'.
[Fri Jun 17 20:00:54 2022]
Finished job 167.
50 of 239 steps (21%) done
Select jobs to execute...

[Fri Jun 17 20:00:54 2022]
rule DeepVirFinder:
    input: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    output: results/109_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 122
    reason: Missing output files: results/109_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/109_SRF/contigs/virome.contigs.filtered.fasta         -o results/109_SRF/dvf -c 8
        
Submitted job 122 with external jobid 'Submitted batch job 27781'.
[Fri Jun 17 20:42:35 2022]
Finished job 43.
51 of 239 steps (21%) done
Select jobs to execute...

[Fri Jun 17 20:42:35 2022]
rule platon:
    input: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    output: results/102_SRF/platon_out/platon_plasmids.log
    jobid: 91
    reason: Missing output files: results/102_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/102_SRF/platon_out/         --threads 8         results/102_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 91 with external jobid 'Submitted batch job 27783'.
[Fri Jun 17 20:49:44 2022]
Finished job 39.
52 of 239 steps (22%) done
Select jobs to execute...

[Fri Jun 17 20:49:44 2022]
rule DeepVirFinder:
    input: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    output: results/102_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 74
    reason: Missing output files: results/102_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/102_MES/contigs/virome.contigs.filtered.fasta         -o results/102_MES/dvf -c 8
        
Submitted job 74 with external jobid 'Submitted batch job 27784'.
[Fri Jun 17 20:52:28 2022]
Finished job 122.
53 of 239 steps (22%) done
Select jobs to execute...

[Fri Jun 17 20:52:28 2022]
rule vs2:
    input: results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/enough_filtered_virome_contigs.txt
    output: results/123_MIX/vs2/final-viral-combined.fa, results/123_MIX/vs2/final-viral-score.tsv
    jobid: 231
    reason: Missing output files: results/123_MIX/vs2/final-viral-score.tsv, results/123_MIX/vs2/final-viral-combined.fa; Input files updated by another job: results/123_MIX/enough_filtered_virome_contigs.txt, results/123_MIX/contigs/virome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/123_MIX/contigs/virome.contigs.filtered.fasta         -w results/123_MIX/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 231 with external jobid 'Submitted batch job 27785'.
[Fri Jun 17 21:09:43 2022]
Finished job 187.
54 of 239 steps (23%) done
Select jobs to execute...

[Fri Jun 17 21:09:43 2022]
rule platon:
    input: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    output: results/102_MES/platon_out/platon_plasmids.log
    jobid: 75
    reason: Missing output files: results/102_MES/platon_out/platon_plasmids.log; Input files updated by another job: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/102_MES/platon_out/         --threads 8         results/102_MES/contigs/virome.contigs.filtered.fasta
        
Submitted job 75 with external jobid 'Submitted batch job 27786'.
[Fri Jun 17 21:20:23 2022]
Finished job 74.
55 of 239 steps (23%) done
Select jobs to execute...

[Fri Jun 17 21:20:23 2022]
rule platon:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/platon_out/platon_plasmids.log
    jobid: 107
    reason: Missing output files: results/109_DCM/platon_out/platon_plasmids.log; Input files updated by another job: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/109_DCM/platon_out/         --threads 8         results/109_DCM/contigs/virome.contigs.filtered.fasta
        
Submitted job 107 with external jobid 'Submitted batch job 27787'.
[Fri Jun 17 21:33:02 2022]
Finished job 139.
56 of 239 steps (23%) done
Select jobs to execute...

[Fri Jun 17 21:33:02 2022]
rule DeepVirFinder:
    input: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/enough_filtered_virome_contigs.txt
    output: results/100_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 42
    reason: Missing output files: results/100_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/100_SRF/enough_filtered_virome_contigs.txt, results/100_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/100_SRF/contigs/virome.contigs.filtered.fasta         -o results/100_SRF/dvf -c 8
        
Submitted job 42 with external jobid 'Submitted batch job 27788'.
[Fri Jun 17 21:51:23 2022]
Finished job 42.
57 of 239 steps (24%) done
Select jobs to execute...

[Fri Jun 17 21:51:23 2022]
rule platon:
    input: results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/enough_filtered_virome_contigs.txt
    output: results/122_SRF/platon_out/platon_plasmids.log
    jobid: 219
    reason: Missing output files: results/122_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/122_SRF/enough_filtered_virome_contigs.txt, results/122_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/122_SRF/platon_out/         --threads 8         results/122_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 219 with external jobid 'Submitted batch job 27789'.
[Fri Jun 17 22:06:27 2022]
Finished job 215.
58 of 239 steps (24%) done
Select jobs to execute...

[Fri Jun 17 22:06:27 2022]
rule platon:
    input: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    output: results/102_DCM/platon_out/platon_plasmids.log
    jobid: 59
    reason: Missing output files: results/102_DCM/platon_out/platon_plasmids.log; Input files updated by another job: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/102_DCM/platon_out/         --threads 8         results/102_DCM/contigs/virome.contigs.filtered.fasta
        
Submitted job 59 with external jobid 'Submitted batch job 27790'.
[Fri Jun 17 22:36:43 2022]
Finished job 27.
59 of 239 steps (25%) done
Select jobs to execute...

[Fri Jun 17 22:36:44 2022]
rule DeepVirFinder:
    input: results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/enough_filtered_virome_contigs.txt
    output: results/122_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 186
    reason: Missing output files: results/122_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/122_DCM/enough_filtered_virome_contigs.txt, results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/122_DCM/contigs/virome.contigs.filtered.fasta         -o results/122_DCM/dvf -c 8
        
Submitted job 186 with external jobid 'Submitted batch job 27791'.
[Fri Jun 17 23:04:47 2022]
Finished job 135.
60 of 239 steps (25%) done
Select jobs to execute...

[Fri Jun 17 23:04:47 2022]
rule checkv:
    input: results/100_SRF/vs2/final-viral-combined.fa
    output: results/100_SRF/checkv/contamination.tsv
    jobid: 41
    reason: Missing output files: results/100_SRF/checkv/contamination.tsv; Input files updated by another job: results/100_SRF/vs2/final-viral-combined.fa
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/100_SRF/vs2/final-viral-combined.fa results/100_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 41 with external jobid 'Submitted batch job 27794'.
[Fri Jun 17 23:09:57 2022]
Finished job 186.
61 of 239 steps (26%) done
Select jobs to execute...

[Fri Jun 17 23:09:57 2022]
rule checkv:
    input: results/11_SRF/vs2/final-viral-combined.fa
    output: results/11_SRF/checkv/contamination.tsv
    jobid: 169
    reason: Missing output files: results/11_SRF/checkv/contamination.tsv; Input files updated by another job: results/11_SRF/vs2/final-viral-combined.fa
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/11_SRF/vs2/final-viral-combined.fa results/11_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 169 with external jobid 'Submitted batch job 27795'.
[Fri Jun 17 23:22:36 2022]
Finished job 169.
62 of 239 steps (26%) done
Select jobs to execute...

[Fri Jun 17 23:22:36 2022]
localrule vs2_summary:
    input: results/11_SRF/vs2/final-viral-score.tsv, results/11_SRF/checkv/contamination.tsv
    output: results/11_SRF/vs2_final_report.tsv
    jobid: 166
    reason: Missing output files: results/11_SRF/vs2_final_report.tsv; Input files updated by another job: results/11_SRF/checkv/contamination.tsv, results/11_SRF/vs2/final-viral-score.tsv
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/11_SRF/vs2/final-viral-score.tsv results/11_SRF/checkv/contamination.tsv results/11_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
              2             146            3248 
[Fri Jun 17 23:22:53 2022]
Finished job 166.
63 of 239 steps (26%) done
Select jobs to execute...

[Fri Jun 17 23:22:53 2022]
rule DeepVirFinder:
    input: results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/enough_filtered_virome_contigs.txt
    output: results/100_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 26
    reason: Missing output files: results/100_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/100_DCM/enough_filtered_virome_contigs.txt, results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/100_DCM/contigs/virome.contigs.filtered.fasta         -o results/100_DCM/dvf -c 8
        
Submitted job 26 with external jobid 'Submitted batch job 27796'.
[Fri Jun 17 23:41:07 2022]
Finished job 41.
64 of 239 steps (27%) done
Select jobs to execute...

[Fri Jun 17 23:41:07 2022]
rule checkv:
    input: results/111_DCM/vs2/final-viral-combined.fa
    output: results/111_DCM/checkv/contamination.tsv
    jobid: 137
    reason: Missing output files: results/111_DCM/checkv/contamination.tsv; Input files updated by another job: results/111_DCM/vs2/final-viral-combined.fa
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/111_DCM/vs2/final-viral-combined.fa results/111_DCM/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 137 with external jobid 'Submitted batch job 27797'.
[Fri Jun 17 23:49:34 2022]
Finished job 87.
65 of 239 steps (27%) done
Select jobs to execute...

[Fri Jun 17 23:49:34 2022]
rule checkv:
    input: results/102_SRF/vs2/final-viral-combined.fa
    output: results/102_SRF/checkv/contamination.tsv
    jobid: 89
    reason: Missing output files: results/102_SRF/checkv/contamination.tsv; Input files updated by another job: results/102_SRF/vs2/final-viral-combined.fa
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/102_SRF/vs2/final-viral-combined.fa results/102_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 89 with external jobid 'Submitted batch job 27798'.
[Fri Jun 17 23:51:25 2022]
Finished job 23.
66 of 239 steps (28%) done
Select jobs to execute...

[Fri Jun 17 23:51:25 2022]
rule checkv:
    input: results/100_DCM/vs2/final-viral-combined.fa
    output: results/100_DCM/checkv/contamination.tsv
    jobid: 25
    reason: Missing output files: results/100_DCM/checkv/contamination.tsv; Input files updated by another job: results/100_DCM/vs2/final-viral-combined.fa
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/100_DCM/vs2/final-viral-combined.fa results/100_DCM/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 25 with external jobid 'Submitted batch job 27799'.
[Fri Jun 17 23:59:41 2022]
Finished job 26.
67 of 239 steps (28%) done
Select jobs to execute...

[Fri Jun 17 23:59:41 2022]
rule platon:
    input: results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/enough_filtered_virome_contigs.txt
    output: results/123_MIX/platon_out/platon_plasmids.log
    jobid: 235
    reason: Missing output files: results/123_MIX/platon_out/platon_plasmids.log; Input files updated by another job: results/123_MIX/enough_filtered_virome_contigs.txt, results/123_MIX/contigs/virome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/123_MIX/platon_out/         --threads 8         results/123_MIX/contigs/virome.contigs.filtered.fasta
        
Submitted job 235 with external jobid 'Submitted batch job 27801'.
[Sat Jun 18 00:29:56 2022]
Finished job 137.
68 of 239 steps (28%) done
Select jobs to execute...

[Sat Jun 18 00:29:56 2022]
rule DeepVirFinder:
    input: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    output: results/102_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 58
    reason: Missing output files: results/102_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/102_DCM/contigs/virome.contigs.filtered.fasta         -o results/102_DCM/dvf -c 8
        
Submitted job 58 with external jobid 'Submitted batch job 27804'.
[Sat Jun 18 00:29:57 2022]
Finished job 55.
69 of 239 steps (29%) done
Select jobs to execute...

[Sat Jun 18 00:29:57 2022]
localrule count_virome_contigs:
    input: results/111_SRF/contigs/virome.contigs.filtered.fasta
    output: results/111_SRF/enough_filtered_virome_contigs.txt
    jobid: 152
    reason: Missing output files: results/111_SRF/enough_filtered_virome_contigs.txt; Input files updated by another job: results/111_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp


        n=$(grep '>' results/111_SRF/contigs/virome.contigs.filtered.fasta  | wc -l)
        if [[ $n -ge 20 ]]
        then
            touch results/111_SRF/enough_filtered_virome_contigs.txt
        else
            touch results/111_SRF/NOT_enough_filtered_virome_contigs.txt
        fi
        
[Sat Jun 18 00:29:58 2022]
Finished job 152.
70 of 239 steps (29%) done
Select jobs to execute...

[Sat Jun 18 00:29:58 2022]
rule vs2:
    input: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/enough_filtered_virome_contigs.txt
    output: results/111_SRF/vs2/final-viral-combined.fa, results/111_SRF/vs2/final-viral-score.tsv
    jobid: 151
    reason: Missing output files: results/111_SRF/vs2/final-viral-score.tsv, results/111_SRF/vs2/final-viral-combined.fa; Input files updated by another job: results/111_SRF/enough_filtered_virome_contigs.txt, results/111_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/111_SRF/contigs/virome.contigs.filtered.fasta         -w results/111_SRF/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 151 with external jobid 'Submitted batch job 27805'.
[Sat Jun 18 00:33:49 2022]
Finished job 91.
71 of 239 steps (30%) done
Select jobs to execute...

[Sat Jun 18 00:33:49 2022]
rule platon:
    input: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/enough_filtered_virome_contigs.txt
    output: results/111_SRF/platon_out/platon_plasmids.log
    jobid: 155
    reason: Missing output files: results/111_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/111_SRF/enough_filtered_virome_contigs.txt, results/111_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/111_SRF/platon_out/         --threads 8         results/111_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 155 with external jobid 'Submitted batch job 27806'.
[Sat Jun 18 00:38:45 2022]
Finished job 71.
72 of 239 steps (30%) done
Select jobs to execute...

[Sat Jun 18 00:38:45 2022]
rule platon:
    input: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    output: results/109_SRF/platon_out/platon_plasmids.log
    jobid: 123
    reason: Missing output files: results/109_SRF/platon_out/platon_plasmids.log; Input files updated by another job: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/109_SRF/platon_out/         --threads 8         results/109_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 123 with external jobid 'Submitted batch job 27807'.
[Sat Jun 18 00:46:06 2022]
Finished job 89.
73 of 239 steps (31%) done
Select jobs to execute...

[Sat Jun 18 00:46:06 2022]
localrule vs2_summary:
    input: results/102_SRF/vs2/final-viral-score.tsv, results/102_SRF/checkv/contamination.tsv
    output: results/102_SRF/vs2_final_report.tsv
    jobid: 86
    reason: Missing output files: results/102_SRF/vs2_final_report.tsv; Input files updated by another job: results/102_SRF/vs2/final-viral-score.tsv, results/102_SRF/checkv/contamination.tsv
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/102_SRF/vs2/final-viral-score.tsv results/102_SRF/checkv/contamination.tsv results/102_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             13             394           17919 
[Sat Jun 18 00:46:38 2022]
Finished job 86.
74 of 239 steps (31%) done
Select jobs to execute...

[Sat Jun 18 00:46:38 2022]
localrule contig_summary:
    input: results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/vs2_final_report.tsv, results/102_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_SRF/platon_out/platon_plasmids.log, results/102_SRF/enough_filtered_virome_contigs.txt
    output: results/102_SRF/contig_summary_102_SRF.tsv
    log: results/102_SRF/log/text_summary.log
    jobid: 84
    reason: Missing output files: results/102_SRF/contig_summary_102_SRF.tsv; Input files updated by another job: results/102_SRF/vs2_final_report.tsv, results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt, results/102_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_SRF/platon_out/platon_plasmids.log
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 102_SRF 150000 2> results/102_SRF/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 00:46:50 2022]
Finished job 119.
75 of 239 steps (31%) done
Select jobs to execute...

[Sat Jun 18 00:46:50 2022]
rule checkv:
    input: results/109_SRF/vs2/final-viral-combined.fa
    output: results/109_SRF/checkv/contamination.tsv
    jobid: 121
    reason: Missing output files: results/109_SRF/checkv/contamination.tsv; Input files updated by another job: results/109_SRF/vs2/final-viral-combined.fa
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/109_SRF/vs2/final-viral-combined.fa results/109_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 121 with external jobid 'Submitted batch job 27808'.
[Sat Jun 18 00:47:03 2022]
Finished job 84.
76 of 239 steps (32%) done
Select jobs to execute...

[Sat Jun 18 00:47:04 2022]
localrule contig_selector:
    input: results/102_SRF/contig_summary_102_SRF.tsv, results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/enough_filtered_virome_contigs.txt
    output: results/102_SRF/contigs/true.mvome.fasta, results/102_SRF/contigs/true.virome.fasta
    log: results/102_SRF/log/contig_selector.log
    jobid: 83
    reason: Missing output files: results/102_SRF/contigs/true.virome.fasta, results/102_SRF/contigs/true.mvome.fasta; Input files updated by another job: results/102_SRF/enough_filtered_virome_contigs.txt, results/102_SRF/contigs/virome.contigs.filtered.fasta, results/102_SRF/contig_summary_102_SRF.tsv
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp

python scripts/contig_selector.py 102_SRF 2> results/102_SRF/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 00:47:40 2022]
Finished job 83.
77 of 239 steps (32%) done
Select jobs to execute...

[Sat Jun 18 00:47:40 2022]
rule DeepVirFinder:
    input: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/enough_filtered_virome_contigs.txt
    output: results/111_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    jobid: 154
    reason: Missing output files: results/111_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt; Input files updated by another job: results/111_SRF/enough_filtered_virome_contigs.txt, results/111_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        python /home/dlueckin/bin/DeepVirFinder/dvf.py         -i results/111_SRF/contigs/virome.contigs.filtered.fasta         -o results/111_SRF/dvf -c 8
        
Submitted job 154 with external jobid 'Submitted batch job 27809'.
[Sat Jun 18 00:59:19 2022]
Finished job 25.
78 of 239 steps (33%) done
Select jobs to execute...

[Sat Jun 18 00:59:19 2022]
localrule vs2_summary:
    input: results/100_SRF/vs2/final-viral-score.tsv, results/100_SRF/checkv/contamination.tsv
    output: results/100_SRF/vs2_final_report.tsv
    jobid: 38
    reason: Missing output files: results/100_SRF/vs2_final_report.tsv; Input files updated by another job: results/100_SRF/vs2/final-viral-score.tsv, results/100_SRF/checkv/contamination.tsv
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/100_SRF/vs2/final-viral-score.tsv results/100_SRF/checkv/contamination.tsv results/100_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
              9             182           10734 
[Sat Jun 18 00:59:39 2022]
Finished job 38.
79 of 239 steps (33%) done
Select jobs to execute...

[Sat Jun 18 00:59:39 2022]
localrule contig_summary:
    input: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/vs2_final_report.tsv, results/100_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/100_SRF/platon_out/platon_plasmids.log, results/100_SRF/enough_filtered_virome_contigs.txt
    output: results/100_SRF/contig_summary_100_SRF.tsv
    log: results/100_SRF/log/text_summary.log
    jobid: 36
    reason: Missing output files: results/100_SRF/contig_summary_100_SRF.tsv; Input files updated by another job: results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/platon_out/platon_plasmids.log, results/100_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/100_SRF/enough_filtered_virome_contigs.txt, results/100_SRF/vs2_final_report.tsv
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 100_SRF 150000 2> results/100_SRF/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 01:00:01 2022]
Finished job 36.
80 of 239 steps (33%) done
Select jobs to execute...

[Sat Jun 18 01:00:01 2022]
localrule contig_selector:
    input: results/100_SRF/contig_summary_100_SRF.tsv, results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/enough_filtered_virome_contigs.txt
    output: results/100_SRF/contigs/true.mvome.fasta, results/100_SRF/contigs/true.virome.fasta
    log: results/100_SRF/log/contig_selector.log
    jobid: 35
    reason: Missing output files: results/100_SRF/contigs/true.mvome.fasta, results/100_SRF/contigs/true.virome.fasta; Input files updated by another job: results/100_SRF/enough_filtered_virome_contigs.txt, results/100_SRF/contigs/virome.contigs.filtered.fasta, results/100_SRF/contig_summary_100_SRF.tsv
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp

python scripts/contig_selector.py 100_SRF 2> results/100_SRF/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 01:00:20 2022]
Finished job 35.
81 of 239 steps (34%) done
Select jobs to execute...

[Sat Jun 18 01:00:20 2022]
localrule vs2_summary:
    input: results/100_DCM/vs2/final-viral-score.tsv, results/100_DCM/checkv/contamination.tsv
    output: results/100_DCM/vs2_final_report.tsv
    jobid: 22
    reason: Missing output files: results/100_DCM/vs2_final_report.tsv; Input files updated by another job: results/100_DCM/checkv/contamination.tsv, results/100_DCM/vs2/final-viral-score.tsv
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/100_DCM/vs2/final-viral-score.tsv results/100_DCM/checkv/contamination.tsv results/100_DCM/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             16             648           20903 
[Sat Jun 18 01:01:00 2022]
Finished job 22.
82 of 239 steps (34%) done
Select jobs to execute...

[Sat Jun 18 01:01:00 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/100_SRF/reads/virome.reads1.fastq.gz, results/100_SRF/reads/virome.reads2.fastq.gz, results/100_SRF/contigs/true.mvome.fasta
    output: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/100_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 34
    reason: Missing output files: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz; Input files updated by another job: results/100_SRF/contigs/true.mvome.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/100_SRF/reads/virome.reads1.fastq.gz in2=results/100_SRF/reads/virome.reads2.fastq.gz         ref=results/100_SRF/contigs/true.mvome.fasta         outm=results/100_SRF/reads/true.mvome.reads1.fq.gz outm2=results/100_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/100_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/100_SRF/
        
Submitted job 34 with external jobid 'Submitted batch job 27811'.
[Sat Jun 18 01:01:08 2022]
Finished job 58.
83 of 239 steps (35%) done
Select jobs to execute...

[Sat Jun 18 01:01:08 2022]
localrule contig_summary:
    input: results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/vs2_final_report.tsv, results/100_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/100_DCM/platon_out/platon_plasmids.log, results/100_DCM/enough_filtered_virome_contigs.txt
    output: results/100_DCM/contig_summary_100_DCM.tsv
    log: results/100_DCM/log/text_summary.log
    jobid: 20
    reason: Missing output files: results/100_DCM/contig_summary_100_DCM.tsv; Input files updated by another job: results/100_DCM/platon_out/platon_plasmids.log, results/100_DCM/enough_filtered_virome_contigs.txt, results/100_DCM/vs2_final_report.tsv, results/100_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 100_DCM 150000 2> results/100_DCM/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 01:01:36 2022]
Finished job 20.
84 of 239 steps (35%) done
Select jobs to execute...

[Sat Jun 18 01:01:36 2022]
localrule contig_selector:
    input: results/100_DCM/contig_summary_100_DCM.tsv, results/100_DCM/contigs/virome.contigs.filtered.fasta, results/100_DCM/enough_filtered_virome_contigs.txt
    output: results/100_DCM/contigs/true.mvome.fasta, results/100_DCM/contigs/true.virome.fasta
    log: results/100_DCM/log/contig_selector.log
    jobid: 19
    reason: Missing output files: results/100_DCM/contigs/true.mvome.fasta, results/100_DCM/contigs/true.virome.fasta; Input files updated by another job: results/100_DCM/enough_filtered_virome_contigs.txt, results/100_DCM/contig_summary_100_DCM.tsv, results/100_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp

python scripts/contig_selector.py 100_DCM 2> results/100_DCM/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 01:02:22 2022]
Finished job 19.
85 of 239 steps (36%) done
Select jobs to execute...

[Sat Jun 18 01:02:22 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/102_SRF/reads/virome.reads1.fastq.gz, results/102_SRF/reads/virome.reads2.fastq.gz, results/102_SRF/contigs/true.virome.fasta
    output: results/102_SRF/reads/true.virome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz, results/102_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/102_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/102_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 92
    reason: Missing output files: results/102_SRF/reads/true.virome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz; Input files updated by another job: results/102_SRF/contigs/true.virome.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/102_SRF/reads/virome.reads1.fastq.gz in2=results/102_SRF/reads/virome.reads2.fastq.gz         ref=results/102_SRF/contigs/true.virome.fasta         outm=results/102_SRF/reads/true.virome.reads1.fq.gz outm2=results/102_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/102_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/102_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/102_SRF/
        
Submitted job 92 with external jobid 'Submitted batch job 27812'.
[Sat Jun 18 01:07:24 2022]
Finished job 154.
86 of 239 steps (36%) done
Select jobs to execute...

[Sat Jun 18 01:07:24 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/100_DCM/reads/virome.reads1.fastq.gz, results/100_DCM/reads/virome.reads2.fastq.gz, results/100_DCM/contigs/true.virome.fasta
    output: results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz, results/100_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/100_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/100_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 28
    reason: Missing output files: results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/100_DCM/contigs/true.virome.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/100_DCM/reads/virome.reads1.fastq.gz in2=results/100_DCM/reads/virome.reads2.fastq.gz         ref=results/100_DCM/contigs/true.virome.fasta         outm=results/100_DCM/reads/true.virome.reads1.fq.gz outm2=results/100_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/100_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/100_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/100_DCM/
        
Submitted job 28 with external jobid 'Submitted batch job 27813'.
[Sat Jun 18 01:18:58 2022]
Finished job 34.
87 of 239 steps (36%) done
Select jobs to execute...

[Sat Jun 18 01:18:58 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 46
    reason: Missing output files: results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/contigs/metagenome.contigs.filtered.fasta, results/100_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_SRF/reads/true.mvome.reads1.fq.gz in2=results/100_SRF/reads/true.mvome.reads2.fq.gz         ref=results/100_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_SRF/
        
Submitted job 46 with external jobid 'Submitted batch job 27814'.
[Sat Jun 18 01:21:42 2022]
Finished job 183.
88 of 239 steps (37%) done
Select jobs to execute...

[Sat Jun 18 01:21:42 2022]
rule checkv:
    input: results/122_DCM/vs2/final-viral-combined.fa
    output: results/122_DCM/checkv/contamination.tsv
    jobid: 185
    reason: Missing output files: results/122_DCM/checkv/contamination.tsv; Input files updated by another job: results/122_DCM/vs2/final-viral-combined.fa
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/122_DCM/vs2/final-viral-combined.fa results/122_DCM/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 185 with external jobid 'Submitted batch job 27816'.
[Sat Jun 18 01:25:45 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 46
    output: results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/100_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_SRF/reads/true.mvome.reads1.fq.gz in2=results/100_SRF/reads/true.mvome.reads2.fq.gz         ref=results/100_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27814

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 46, external: Submitted batch job 27814, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.46.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 01:25:45 2022]
rule checkv:
    input: results/102_MES/vs2/final-viral-combined.fa
    output: results/102_MES/checkv/contamination.tsv
    jobid: 73
    reason: Missing output files: results/102_MES/checkv/contamination.tsv; Input files updated by another job: results/102_MES/vs2/final-viral-combined.fa
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/102_MES/vs2/final-viral-combined.fa results/102_MES/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 73 with external jobid 'Submitted batch job 27817'.
[Sat Jun 18 01:28:29 2022]
Finished job 219.
89 of 239 steps (37%) done
Select jobs to execute...

[Sat Jun 18 01:28:29 2022]
rule checkv:
    input: results/102_DCM/vs2/final-viral-combined.fa
    output: results/102_DCM/checkv/contamination.tsv
    jobid: 57
    reason: Missing output files: results/102_DCM/checkv/contamination.tsv; Input files updated by another job: results/102_DCM/vs2/final-viral-combined.fa
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/102_DCM/vs2/final-viral-combined.fa results/102_DCM/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 57 with external jobid 'Submitted batch job 27818'.
[Sat Jun 18 01:45:44 2022]
Finished job 107.
90 of 239 steps (38%) done
Select jobs to execute...

[Sat Jun 18 01:45:44 2022]
localrule vs2_summary:
    input: results/111_DCM/vs2/final-viral-score.tsv, results/111_DCM/checkv/contamination.tsv
    output: results/111_DCM/vs2_final_report.tsv
    jobid: 134
    reason: Missing output files: results/111_DCM/vs2_final_report.tsv; Input files updated by another job: results/111_DCM/checkv/contamination.tsv, results/111_DCM/vs2/final-viral-score.tsv
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/111_DCM/vs2/final-viral-score.tsv results/111_DCM/checkv/contamination.tsv results/111_DCM/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
              5             214           14075 
[Sat Jun 18 01:46:07 2022]
Finished job 134.
91 of 239 steps (38%) done
Select jobs to execute...

[Sat Jun 18 01:46:07 2022]
localrule contig_summary:
    input: results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/vs2_final_report.tsv, results/111_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/111_DCM/platon_out/platon_plasmids.log, results/111_DCM/enough_filtered_virome_contigs.txt
    output: results/111_DCM/contig_summary_111_DCM.tsv
    log: results/111_DCM/log/text_summary.log
    jobid: 132
    reason: Missing output files: results/111_DCM/contig_summary_111_DCM.tsv; Input files updated by another job: results/111_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/111_DCM/vs2_final_report.tsv, results/111_DCM/enough_filtered_virome_contigs.txt, results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/platon_out/platon_plasmids.log
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 111_DCM 150000 2> results/111_DCM/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 01:46:34 2022]
Finished job 132.
92 of 239 steps (38%) done
Select jobs to execute...

[Sat Jun 18 01:46:34 2022]
localrule contig_summary:
    input: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/vs2_final_report.tsv, results/11_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/11_SRF/platon_out/platon_plasmids.log, results/11_SRF/enough_filtered_virome_contigs.txt
    output: results/11_SRF/contig_summary_11_SRF.tsv
    log: results/11_SRF/log/text_summary.log
    jobid: 164
    reason: Missing output files: results/11_SRF/contig_summary_11_SRF.tsv; Input files updated by another job: results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/11_SRF/enough_filtered_virome_contigs.txt, results/11_SRF/vs2_final_report.tsv, results/11_SRF/platon_out/platon_plasmids.log
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 11_SRF 150000 2> results/11_SRF/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 01:46:50 2022]
Finished job 164.
93 of 239 steps (39%) done
Select jobs to execute...

[Sat Jun 18 01:46:50 2022]
rule vs2:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/vs2/final-viral-combined.fa, results/109_DCM/vs2/final-viral-score.tsv
    jobid: 103
    reason: Missing output files: results/109_DCM/vs2/final-viral-combined.fa, results/109_DCM/vs2/final-viral-score.tsv; Input files updated by another job: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/109_DCM/contigs/virome.contigs.filtered.fasta         -w results/109_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 103 with external jobid 'Submitted batch job 27820'.
[Sat Jun 18 01:56:12 2022]
Finished job 121.
94 of 239 steps (39%) done
Select jobs to execute...

[Sat Jun 18 01:56:12 2022]
localrule vs2_summary:
    input: results/109_SRF/vs2/final-viral-score.tsv, results/109_SRF/checkv/contamination.tsv
    output: results/109_SRF/vs2_final_report.tsv
    jobid: 118
    reason: Missing output files: results/109_SRF/vs2_final_report.tsv; Input files updated by another job: results/109_SRF/checkv/contamination.tsv, results/109_SRF/vs2/final-viral-score.tsv
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/109_SRF/vs2/final-viral-score.tsv results/109_SRF/checkv/contamination.tsv results/109_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             33            1001           24909 
[Sat Jun 18 01:57:04 2022]
Finished job 118.
95 of 239 steps (40%) done
Select jobs to execute...

[Sat Jun 18 01:57:04 2022]
localrule contig_selector:
    input: results/11_SRF/contig_summary_11_SRF.tsv, results/11_SRF/contigs/virome.contigs.filtered.fasta, results/11_SRF/enough_filtered_virome_contigs.txt
    output: results/11_SRF/contigs/true.mvome.fasta, results/11_SRF/contigs/true.virome.fasta
    log: results/11_SRF/log/contig_selector.log
    jobid: 163
    reason: Missing output files: results/11_SRF/contigs/true.virome.fasta, results/11_SRF/contigs/true.mvome.fasta; Input files updated by another job: results/11_SRF/enough_filtered_virome_contigs.txt, results/11_SRF/contig_summary_11_SRF.tsv, results/11_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp

python scripts/contig_selector.py 11_SRF 2> results/11_SRF/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 01:57:11 2022]
Finished job 163.
96 of 239 steps (40%) done
Select jobs to execute...

[Sat Jun 18 01:57:11 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/11_SRF/reads/virome.reads1.fastq.gz, results/11_SRF/reads/virome.reads2.fastq.gz, results/11_SRF/contigs/true.virome.fasta
    output: results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz, results/11_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/11_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/11_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 172
    reason: Missing output files: results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/11_SRF/contigs/true.virome.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/11_SRF/reads/virome.reads1.fastq.gz in2=results/11_SRF/reads/virome.reads2.fastq.gz         ref=results/11_SRF/contigs/true.virome.fasta         outm=results/11_SRF/reads/true.virome.reads1.fq.gz outm2=results/11_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/11_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/11_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/11_SRF/
        
Submitted job 172 with external jobid 'Submitted batch job 27822'.
[Sat Jun 18 02:07:47 2022]
Finished job 172.
97 of 239 steps (41%) done
Select jobs to execute...

[Sat Jun 18 02:07:47 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/11_SRF/reads/virome.reads1.fastq.gz, results/11_SRF/reads/virome.reads2.fastq.gz, results/11_SRF/contigs/true.mvome.fasta
    output: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/11_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 162
    reason: Missing output files: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz; Input files updated by another job: results/11_SRF/contigs/true.mvome.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/11_SRF/reads/virome.reads1.fastq.gz in2=results/11_SRF/reads/virome.reads2.fastq.gz         ref=results/11_SRF/contigs/true.mvome.fasta         outm=results/11_SRF/reads/true.mvome.reads1.fq.gz outm2=results/11_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/11_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/11_SRF/
        
Submitted job 162 with external jobid 'Submitted batch job 27823'.
[Sat Jun 18 02:12:44 2022]
Finished job 162.
98 of 239 steps (41%) done
Select jobs to execute...

[Sat Jun 18 02:12:44 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 174
    reason: Missing output files: results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/11_SRF/contigs/metagenome.contigs.filtered.fasta, results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/11_SRF/reads/true.mvome.reads1.fq.gz in2=results/11_SRF/reads/true.mvome.reads2.fq.gz         ref=results/11_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/11_SRF/
        
Submitted job 174 with external jobid 'Submitted batch job 27824'.
[Sat Jun 18 02:17:41 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 174
    output: results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/11_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/11_SRF/reads/true.mvome.reads1.fq.gz in2=results/11_SRF/reads/true.mvome.reads2.fq.gz         ref=results/11_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/11_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27824

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 174, external: Submitted batch job 27824, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.174.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 02:17:41 2022]
rule viromeQC:
    input: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz
    output: results/11_SRF/viromeQC/mvome_QC.tsv, results/11_SRF/viromeQC/virome_QC.tsv
    jobid: 173
    reason: Missing output files: results/11_SRF/viromeQC/mvome_QC.tsv, results/11_SRF/viromeQC/virome_QC.tsv; Input files updated by another job: results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz, results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/11_SRF/reads/true.mvome.reads1.fq.gz results/11_SRF/reads/true.mvome.reads2.fq.gz         -o results/11_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/11_SRF/reads/true.virome.reads1.fq.gz results/11_SRF/reads/true.virome.reads2.fq.gz         -o results/11_SRF/viromeQC/virome_QC.tsv
        
Submitted job 173 with external jobid 'Submitted batch job 27826'.
[Sat Jun 18 02:19:20 2022]
Finished job 73.
99 of 239 steps (41%) done
Select jobs to execute...

[Sat Jun 18 02:19:20 2022]
localrule vs2_summary:
    input: results/102_MES/vs2/final-viral-score.tsv, results/102_MES/checkv/contamination.tsv
    output: results/102_MES/vs2_final_report.tsv
    jobid: 70
    reason: Missing output files: results/102_MES/vs2_final_report.tsv; Input files updated by another job: results/102_MES/vs2/final-viral-score.tsv, results/102_MES/checkv/contamination.tsv
    wildcards: sample=102_MES
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/102_MES/vs2/final-viral-score.tsv results/102_MES/checkv/contamination.tsv results/102_MES/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 02:19:30 2022]
Finished job 185.
100 of 239 steps (42%) done
Select jobs to execute...

[Sat Jun 18 02:19:30 2022]
rule kaiju:
    input: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz
    output: results/11_SRF/kaiju/mvome.out, results/11_SRF/kaiju/virome.out, results/11_SRF/kaiju/mvome_summary.tsv, results/11_SRF/kaiju/virome_summary.tsv
    jobid: 161
    reason: Missing output files: results/11_SRF/kaiju/mvome_summary.tsv, results/11_SRF/kaiju/virome_summary.tsv; Input files updated by another job: results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz, results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/11_SRF/reads/true.mvome.reads1.fq.gz,results/11_SRF/reads/true.virome.reads1.fq.gz         -j results/11_SRF/reads/true.mvome.reads2.fq.gz,results/11_SRF/reads/true.virome.reads2.fq.gz         -o results/11_SRF/kaiju/mvome.out,results/11_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/11_SRF/kaiju/mvome_summary.tsv results/11_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/11_SRF/kaiju/virome_summary.tsv results/11_SRF/kaiju/virome.out

        
Submitted job 161 with external jobid 'Submitted batch job 27827'.
[1] "Quick Summary"

manual curation       not viral      true viral 
             13             518           18460 
[Sat Jun 18 02:19:50 2022]
Finished job 70.
101 of 239 steps (42%) done
Select jobs to execute...

[Sat Jun 18 02:19:50 2022]
localrule vs2_summary:
    input: results/122_DCM/vs2/final-viral-score.tsv, results/122_DCM/checkv/contamination.tsv
    output: results/122_DCM/vs2_final_report.tsv
    jobid: 182
    reason: Missing output files: results/122_DCM/vs2_final_report.tsv; Input files updated by another job: results/122_DCM/checkv/contamination.tsv, results/122_DCM/vs2/final-viral-score.tsv
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/122_DCM/vs2/final-viral-score.tsv results/122_DCM/checkv/contamination.tsv results/122_DCM/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             26             743           15666 
[Sat Jun 18 02:20:17 2022]
Finished job 182.
102 of 239 steps (43%) done
Select jobs to execute...

[Sat Jun 18 02:20:17 2022]
localrule contig_summary:
    input: results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/vs2_final_report.tsv, results/122_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/122_DCM/platon_out/platon_plasmids.log, results/122_DCM/enough_filtered_virome_contigs.txt
    output: results/122_DCM/contig_summary_122_DCM.tsv
    log: results/122_DCM/log/text_summary.log
    jobid: 180
    reason: Missing output files: results/122_DCM/contig_summary_122_DCM.tsv; Input files updated by another job: results/122_DCM/vs2_final_report.tsv, results/122_DCM/enough_filtered_virome_contigs.txt, results/122_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/122_DCM/platon_out/platon_plasmids.log, results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 122_DCM 150000 2> results/122_DCM/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 02:20:41 2022]
Finished job 180.
103 of 239 steps (43%) done
Select jobs to execute...

[Sat Jun 18 02:20:41 2022]
localrule contig_selector:
    input: results/122_DCM/contig_summary_122_DCM.tsv, results/122_DCM/contigs/virome.contigs.filtered.fasta, results/122_DCM/enough_filtered_virome_contigs.txt
    output: results/122_DCM/contigs/true.mvome.fasta, results/122_DCM/contigs/true.virome.fasta
    log: results/122_DCM/log/contig_selector.log
    jobid: 179
    reason: Missing output files: results/122_DCM/contigs/true.mvome.fasta, results/122_DCM/contigs/true.virome.fasta; Input files updated by another job: results/122_DCM/contig_summary_122_DCM.tsv, results/122_DCM/enough_filtered_virome_contigs.txt, results/122_DCM/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp

python scripts/contig_selector.py 122_DCM 2> results/122_DCM/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 02:21:15 2022]
Finished job 179.
104 of 239 steps (44%) done
Select jobs to execute...

[Sat Jun 18 02:21:15 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/122_DCM/reads/virome.reads1.fastq.gz, results/122_DCM/reads/virome.reads2.fastq.gz, results/122_DCM/contigs/true.virome.fasta
    output: results/122_DCM/reads/true.virome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz, results/122_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/122_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/122_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 188
    reason: Missing output files: results/122_DCM/reads/true.virome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz; Input files updated by another job: results/122_DCM/contigs/true.virome.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/122_DCM/reads/virome.reads1.fastq.gz in2=results/122_DCM/reads/virome.reads2.fastq.gz         ref=results/122_DCM/contigs/true.virome.fasta         outm=results/122_DCM/reads/true.virome.reads1.fq.gz outm2=results/122_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/122_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/122_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/122_DCM/
        
Submitted job 188 with external jobid 'Submitted batch job 27828'.
[Sat Jun 18 02:28:31 2022]
Finished job 92.
105 of 239 steps (44%) done
Select jobs to execute...

[Sat Jun 18 02:28:31 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/122_DCM/reads/virome.reads1.fastq.gz, results/122_DCM/reads/virome.reads2.fastq.gz, results/122_DCM/contigs/true.mvome.fasta
    output: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/122_DCM/log/map_virome_reads_to_mv_contigs.log
    jobid: 178
    reason: Missing output files: results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/122_DCM/contigs/true.mvome.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/122_DCM/reads/virome.reads1.fastq.gz in2=results/122_DCM/reads/virome.reads2.fastq.gz         ref=results/122_DCM/contigs/true.mvome.fasta         outm=results/122_DCM/reads/true.mvome.reads1.fq.gz outm2=results/122_DCM/reads/true.mvome.reads2.fq.gz         statsfile=results/122_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/122_DCM/
        
Submitted job 178 with external jobid 'Submitted batch job 27829'.
[Sat Jun 18 02:29:04 2022]
Finished job 173.
106 of 239 steps (44%) done
Select jobs to execute...

[Sat Jun 18 02:29:04 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/100_DCM/reads/virome.reads1.fastq.gz, results/100_DCM/reads/virome.reads2.fastq.gz, results/100_DCM/contigs/true.mvome.fasta
    output: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/100_DCM/log/map_virome_reads_to_mv_contigs.log
    jobid: 18
    reason: Missing output files: results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/100_DCM/contigs/true.mvome.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/100_DCM/reads/virome.reads1.fastq.gz in2=results/100_DCM/reads/virome.reads2.fastq.gz         ref=results/100_DCM/contigs/true.mvome.fasta         outm=results/100_DCM/reads/true.mvome.reads1.fq.gz outm2=results/100_DCM/reads/true.mvome.reads2.fq.gz         statsfile=results/100_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/100_DCM/
        
Submitted job 18 with external jobid 'Submitted batch job 27830'.
[Sat Jun 18 02:46:07 2022]
Finished job 57.
107 of 239 steps (45%) done
Select jobs to execute...

[Sat Jun 18 02:46:07 2022]
localrule vs2_summary:
    input: results/102_DCM/vs2/final-viral-score.tsv, results/102_DCM/checkv/contamination.tsv
    output: results/102_DCM/vs2_final_report.tsv
    jobid: 54
    reason: Missing output files: results/102_DCM/vs2_final_report.tsv; Input files updated by another job: results/102_DCM/checkv/contamination.tsv, results/102_DCM/vs2/final-viral-score.tsv
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/102_DCM/vs2/final-viral-score.tsv results/102_DCM/checkv/contamination.tsv results/102_DCM/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 02:46:19 2022]
Finished job 28.
108 of 239 steps (45%) done
Select jobs to execute...

[Sat Jun 18 02:46:19 2022]
localrule contig_selector:
    input: results/111_DCM/contig_summary_111_DCM.tsv, results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    output: results/111_DCM/contigs/true.mvome.fasta, results/111_DCM/contigs/true.virome.fasta
    log: results/111_DCM/log/contig_selector.log
    jobid: 131
    reason: Missing output files: results/111_DCM/contigs/true.mvome.fasta, results/111_DCM/contigs/true.virome.fasta; Input files updated by another job: results/111_DCM/contig_summary_111_DCM.tsv, results/111_DCM/contigs/virome.contigs.filtered.fasta, results/111_DCM/enough_filtered_virome_contigs.txt
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp

python scripts/contig_selector.py 111_DCM 2> results/111_DCM/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 02:46:19 2022]
Finished job 18.
109 of 239 steps (46%) done
Select jobs to execute...

[Sat Jun 18 02:46:20 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 30
    reason: Missing output files: results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/contigs/metagenome.contigs.filtered.fasta, results/100_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_DCM/reads/true.mvome.reads1.fq.gz in2=results/100_DCM/reads/true.mvome.reads2.fq.gz         ref=results/100_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_DCM/
        
Submitted job 30 with external jobid 'Submitted batch job 27831'.
[Sat Jun 18 02:46:54 2022]
Finished job 131.
110 of 239 steps (46%) done
Select jobs to execute...

[Sat Jun 18 02:46:54 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/111_DCM/reads/virome.reads1.fastq.gz, results/111_DCM/reads/virome.reads2.fastq.gz, results/111_DCM/contigs/true.virome.fasta
    output: results/111_DCM/reads/true.virome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz, results/111_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/111_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/111_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 140
    reason: Missing output files: results/111_DCM/reads/true.virome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz; Input files updated by another job: results/111_DCM/contigs/true.virome.fasta
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/111_DCM/reads/virome.reads1.fastq.gz in2=results/111_DCM/reads/virome.reads2.fastq.gz         ref=results/111_DCM/contigs/true.virome.fasta         outm=results/111_DCM/reads/true.virome.reads1.fq.gz outm2=results/111_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/111_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/111_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/111_DCM/
        
Submitted job 140 with external jobid 'Submitted batch job 27832'.
[1] "Quick Summary"

manual curation       not viral      true viral 
             21             638           24754 
[Sat Jun 18 02:47:01 2022]
Finished job 54.
111 of 239 steps (46%) done
Select jobs to execute...

[Sat Jun 18 02:47:01 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/111_DCM/reads/virome.reads1.fastq.gz, results/111_DCM/reads/virome.reads2.fastq.gz, results/111_DCM/contigs/true.mvome.fasta
    output: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/111_DCM/log/map_virome_reads_to_mv_contigs.log
    jobid: 130
    reason: Missing output files: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz; Input files updated by another job: results/111_DCM/contigs/true.mvome.fasta
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/111_DCM/reads/virome.reads1.fastq.gz in2=results/111_DCM/reads/virome.reads2.fastq.gz         ref=results/111_DCM/contigs/true.mvome.fasta         outm=results/111_DCM/reads/true.mvome.reads1.fq.gz outm2=results/111_DCM/reads/true.mvome.reads2.fq.gz         statsfile=results/111_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/111_DCM/
        
Submitted job 130 with external jobid 'Submitted batch job 27833'.
[Sat Jun 18 02:48:43 2022]
Finished job 178.
112 of 239 steps (47%) done
Select jobs to execute...

[Sat Jun 18 02:48:43 2022]
rule kaiju:
    input: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz
    output: results/100_DCM/kaiju/mvome.out, results/100_DCM/kaiju/virome.out, results/100_DCM/kaiju/mvome_summary.tsv, results/100_DCM/kaiju/virome_summary.tsv
    jobid: 17
    reason: Missing output files: results/100_DCM/kaiju/virome_summary.tsv, results/100_DCM/kaiju/mvome_summary.tsv; Input files updated by another job: results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/100_DCM/reads/true.mvome.reads1.fq.gz,results/100_DCM/reads/true.virome.reads1.fq.gz         -j results/100_DCM/reads/true.mvome.reads2.fq.gz,results/100_DCM/reads/true.virome.reads2.fq.gz         -o results/100_DCM/kaiju/mvome.out,results/100_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_DCM/kaiju/mvome_summary.tsv results/100_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_DCM/kaiju/virome_summary.tsv results/100_DCM/kaiju/virome.out

        
Submitted job 17 with external jobid 'Submitted batch job 27834'.
[Sat Jun 18 02:51:28 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 30
    output: results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/100_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_DCM/reads/true.mvome.reads1.fq.gz in2=results/100_DCM/reads/true.mvome.reads2.fq.gz         ref=results/100_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27831

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 30, external: Submitted batch job 27831, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.30.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 02:51:28 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 190
    reason: Missing output files: results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/122_DCM/contigs/metagenome.contigs.filtered.fasta, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_DCM/reads/true.mvome.reads1.fq.gz in2=results/122_DCM/reads/true.mvome.reads2.fq.gz         ref=results/122_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_DCM/
        
Submitted job 190 with external jobid 'Submitted batch job 27836'.
[Sat Jun 18 02:58:37 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 190
    output: results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/122_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_DCM/reads/true.mvome.reads1.fq.gz in2=results/122_DCM/reads/true.mvome.reads2.fq.gz         ref=results/122_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27836

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 190, external: Submitted batch job 27836, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.190.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 02:58:37 2022]
rule viromeQC:
    input: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz
    output: results/100_DCM/viromeQC/mvome_QC.tsv, results/100_DCM/viromeQC/virome_QC.tsv
    jobid: 29
    reason: Missing output files: results/100_DCM/viromeQC/mvome_QC.tsv, results/100_DCM/viromeQC/virome_QC.tsv; Input files updated by another job: results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_DCM/reads/true.mvome.reads1.fq.gz results/100_DCM/reads/true.mvome.reads2.fq.gz         -o results/100_DCM/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_DCM/reads/true.virome.reads1.fq.gz results/100_DCM/reads/true.virome.reads2.fq.gz         -o results/100_DCM/viromeQC/virome_QC.tsv
        
Submitted job 29 with external jobid 'Submitted batch job 27837'.
[Sat Jun 18 03:04:40 2022]
Finished job 59.
113 of 239 steps (47%) done
Select jobs to execute...

[Sat Jun 18 03:04:40 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/102_SRF/reads/virome.reads1.fastq.gz, results/102_SRF/reads/virome.reads2.fastq.gz, results/102_SRF/contigs/true.mvome.fasta
    output: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/102_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 82
    reason: Missing output files: results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/102_SRF/contigs/true.mvome.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/102_SRF/reads/virome.reads1.fastq.gz in2=results/102_SRF/reads/virome.reads2.fastq.gz         ref=results/102_SRF/contigs/true.mvome.fasta         outm=results/102_SRF/reads/true.mvome.reads1.fq.gz outm2=results/102_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/102_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/102_SRF/
        
Submitted job 82 with external jobid 'Submitted batch job 27838'.
[Sat Jun 18 03:10:55 2022]
Finished job 130.
114 of 239 steps (48%) done
Select jobs to execute...

[Sat Jun 18 03:10:55 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 142
    reason: Missing output files: results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/111_DCM/contigs/metagenome.contigs.filtered.fasta, results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_DCM/reads/true.mvome.reads1.fq.gz in2=results/111_DCM/reads/true.mvome.reads2.fq.gz         ref=results/111_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_DCM/
        
Submitted job 142 with external jobid 'Submitted batch job 27840'.
[Sat Jun 18 03:16:58 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 142
    output: results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/111_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_DCM/reads/true.mvome.reads1.fq.gz in2=results/111_DCM/reads/true.mvome.reads2.fq.gz         ref=results/111_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27840

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 142, external: Submitted batch job 27840, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.142.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 03:16:58 2022]
rule checkv:
    input: results/122_SRF/vs2/final-viral-combined.fa
    output: results/122_SRF/checkv/contamination.tsv
    jobid: 217
    reason: Missing output files: results/122_SRF/checkv/contamination.tsv; Input files updated by another job: results/122_SRF/vs2/final-viral-combined.fa
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/122_SRF/vs2/final-viral-combined.fa results/122_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 217 with external jobid 'Submitted batch job 27841'.
[Sat Jun 18 03:21:55 2022]
Finished job 82.
115 of 239 steps (48%) done
Select jobs to execute...

[Sat Jun 18 03:21:55 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 94
    reason: Missing output files: results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_SRF/reads/true.mvome.reads1.fq.gz in2=results/102_SRF/reads/true.mvome.reads2.fq.gz         ref=results/102_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_SRF/
        
Submitted job 94 with external jobid 'Submitted batch job 27842'.
[Sat Jun 18 03:27:03 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 94
    output: results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/102_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_SRF/reads/true.mvome.reads1.fq.gz in2=results/102_SRF/reads/true.mvome.reads2.fq.gz         ref=results/102_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27842

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 94, external: Submitted batch job 27842, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.94.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 03:27:03 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/100_SRF/reads/virome.reads1.fastq.gz, results/100_SRF/reads/virome.reads2.fastq.gz, results/100_SRF/contigs/true.virome.fasta
    output: results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz, results/100_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/100_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/100_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 44
    reason: Missing output files: results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/100_SRF/contigs/true.virome.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/100_SRF/reads/virome.reads1.fastq.gz in2=results/100_SRF/reads/virome.reads2.fastq.gz         ref=results/100_SRF/contigs/true.virome.fasta         outm=results/100_SRF/reads/true.virome.reads1.fq.gz outm2=results/100_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/100_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/100_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/100_SRF/
        
Submitted job 44 with external jobid 'Submitted batch job 27843'.
[Sat Jun 18 03:30:01 2022]
Finished job 188.
116 of 239 steps (49%) done
Select jobs to execute...

[Sat Jun 18 03:30:01 2022]
rule kaiju:
    input: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz
    output: results/102_SRF/kaiju/mvome.out, results/102_SRF/kaiju/virome.out, results/102_SRF/kaiju/mvome_summary.tsv, results/102_SRF/kaiju/virome_summary.tsv
    jobid: 81
    reason: Missing output files: results/102_SRF/kaiju/virome_summary.tsv, results/102_SRF/kaiju/mvome_summary.tsv; Input files updated by another job: results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/102_SRF/reads/true.mvome.reads1.fq.gz,results/102_SRF/reads/true.virome.reads1.fq.gz         -j results/102_SRF/reads/true.mvome.reads2.fq.gz,results/102_SRF/reads/true.virome.reads2.fq.gz         -o results/102_SRF/kaiju/mvome.out,results/102_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_SRF/kaiju/mvome_summary.tsv results/102_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_SRF/kaiju/virome_summary.tsv results/102_SRF/kaiju/virome.out

        
Submitted job 81 with external jobid 'Submitted batch job 27844'.
[Sat Jun 18 03:36:03 2022]
Finished job 75.
117 of 239 steps (49%) done
Select jobs to execute...

[Sat Jun 18 03:36:03 2022]
rule viromeQC:
    input: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz
    output: results/122_DCM/viromeQC/mvome_QC.tsv, results/122_DCM/viromeQC/virome_QC.tsv
    jobid: 189
    reason: Missing output files: results/122_DCM/viromeQC/mvome_QC.tsv, results/122_DCM/viromeQC/virome_QC.tsv; Input files updated by another job: results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/122_DCM/reads/true.mvome.reads1.fq.gz results/122_DCM/reads/true.mvome.reads2.fq.gz         -o results/122_DCM/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/122_DCM/reads/true.virome.reads1.fq.gz results/122_DCM/reads/true.virome.reads2.fq.gz         -o results/122_DCM/viromeQC/virome_QC.tsv
        
Submitted job 189 with external jobid 'Submitted batch job 27846'.
[Sat Jun 18 03:58:48 2022]
Finished job 155.
118 of 239 steps (49%) done
Select jobs to execute...

[Sat Jun 18 03:58:48 2022]
localrule contig_summary:
    input: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/vs2_final_report.tsv, results/102_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_DCM/platon_out/platon_plasmids.log, results/102_DCM/enough_filtered_virome_contigs.txt
    output: results/102_DCM/contig_summary_102_DCM.tsv
    log: results/102_DCM/log/text_summary.log
    jobid: 52
    reason: Missing output files: results/102_DCM/contig_summary_102_DCM.tsv; Input files updated by another job: results/102_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_DCM/platon_out/platon_plasmids.log, results/102_DCM/enough_filtered_virome_contigs.txt, results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/vs2_final_report.tsv
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 102_DCM 150000 2> results/102_DCM/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 03:59:00 2022]
Finished job 140.
119 of 239 steps (50%) done
Select jobs to execute...

[Sat Jun 18 03:59:00 2022]
rule viromeQC:
    input: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz
    output: results/111_DCM/viromeQC/mvome_QC.tsv, results/111_DCM/viromeQC/virome_QC.tsv
    jobid: 141
    reason: Missing output files: results/111_DCM/viromeQC/mvome_QC.tsv, results/111_DCM/viromeQC/virome_QC.tsv; Input files updated by another job: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/111_DCM/reads/true.mvome.reads1.fq.gz results/111_DCM/reads/true.mvome.reads2.fq.gz         -o results/111_DCM/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/111_DCM/reads/true.virome.reads1.fq.gz results/111_DCM/reads/true.virome.reads2.fq.gz         -o results/111_DCM/viromeQC/virome_QC.tsv
        
Submitted job 141 with external jobid 'Submitted batch job 27850'.
[Sat Jun 18 03:59:18 2022]
Finished job 52.
120 of 239 steps (50%) done
Select jobs to execute...

[Sat Jun 18 03:59:18 2022]
rule viromeQC:
    input: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz
    output: results/102_SRF/viromeQC/mvome_QC.tsv, results/102_SRF/viromeQC/virome_QC.tsv
    jobid: 93
    reason: Missing output files: results/102_SRF/viromeQC/virome_QC.tsv, results/102_SRF/viromeQC/mvome_QC.tsv; Input files updated by another job: results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_SRF/reads/true.mvome.reads1.fq.gz results/102_SRF/reads/true.mvome.reads2.fq.gz         -o results/102_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_SRF/reads/true.virome.reads1.fq.gz results/102_SRF/reads/true.virome.reads2.fq.gz         -o results/102_SRF/viromeQC/virome_QC.tsv
        
Submitted job 93 with external jobid 'Submitted batch job 27851'.
[Sat Jun 18 04:05:25 2022]
Finished job 217.
121 of 239 steps (51%) done
Select jobs to execute...

[Sat Jun 18 04:05:26 2022]
rule kaiju:
    input: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz
    output: results/122_DCM/kaiju/mvome.out, results/122_DCM/kaiju/virome.out, results/122_DCM/kaiju/mvome_summary.tsv, results/122_DCM/kaiju/virome_summary.tsv
    jobid: 177
    reason: Missing output files: results/122_DCM/kaiju/virome_summary.tsv, results/122_DCM/kaiju/mvome_summary.tsv; Input files updated by another job: results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/122_DCM/reads/true.mvome.reads1.fq.gz,results/122_DCM/reads/true.virome.reads1.fq.gz         -j results/122_DCM/reads/true.mvome.reads2.fq.gz,results/122_DCM/reads/true.virome.reads2.fq.gz         -o results/122_DCM/kaiju/mvome.out,results/122_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_DCM/kaiju/mvome_summary.tsv results/122_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_DCM/kaiju/virome_summary.tsv results/122_DCM/kaiju/virome.out

        
Submitted job 177 with external jobid 'Submitted batch job 27852'.
[Sat Jun 18 04:33:30 2022]
Finished job 29.
122 of 239 steps (51%) done
Select jobs to execute...

[Sat Jun 18 04:33:30 2022]
localrule contig_summary:
    input: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/vs2_final_report.tsv, results/102_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_MES/platon_out/platon_plasmids.log, results/102_MES/enough_filtered_virome_contigs.txt
    output: results/102_MES/contig_summary_102_MES.tsv
    log: results/102_MES/log/text_summary.log
    jobid: 68
    reason: Missing output files: results/102_MES/contig_summary_102_MES.tsv; Input files updated by another job: results/102_MES/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/102_MES/enough_filtered_virome_contigs.txt, results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/vs2_final_report.tsv, results/102_MES/platon_out/platon_plasmids.log
    wildcards: sample=102_MES
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 102_MES 150000 2> results/102_MES/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 04:34:00 2022]
Finished job 68.
123 of 239 steps (51%) done
Select jobs to execute...

[Sat Jun 18 04:34:00 2022]
localrule contig_selector:
    input: results/102_MES/contig_summary_102_MES.tsv, results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/enough_filtered_virome_contigs.txt
    output: results/102_MES/contigs/true.mvome.fasta, results/102_MES/contigs/true.virome.fasta
    log: results/102_MES/log/contig_selector.log
    jobid: 67
    reason: Missing output files: results/102_MES/contigs/true.virome.fasta, results/102_MES/contigs/true.mvome.fasta; Input files updated by another job: results/102_MES/contigs/virome.contigs.filtered.fasta, results/102_MES/contig_summary_102_MES.tsv, results/102_MES/enough_filtered_virome_contigs.txt
    wildcards: sample=102_MES
    resources: tmpdir=/tmp

python scripts/contig_selector.py 102_MES 2> results/102_MES/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 04:34:56 2022]
Finished job 67.
124 of 239 steps (52%) done
Select jobs to execute...

[Sat Jun 18 04:34:56 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/102_MES/reads/virome.reads1.fastq.gz, results/102_MES/reads/virome.reads2.fastq.gz, results/102_MES/contigs/true.mvome.fasta
    output: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/102_MES/log/map_virome_reads_to_mv_contigs.log
    jobid: 66
    reason: Missing output files: results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/102_MES/contigs/true.mvome.fasta
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/102_MES/reads/virome.reads1.fastq.gz in2=results/102_MES/reads/virome.reads2.fastq.gz         ref=results/102_MES/contigs/true.mvome.fasta         outm=results/102_MES/reads/true.mvome.reads1.fq.gz outm2=results/102_MES/reads/true.mvome.reads2.fq.gz         statsfile=results/102_MES/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/102_MES/
        
Submitted job 66 with external jobid 'Submitted batch job 27853'.
[Sat Jun 18 04:35:30 2022]
Finished job 231.
125 of 239 steps (52%) done
Select jobs to execute...

[Sat Jun 18 04:35:30 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/102_MES/reads/virome.reads1.fastq.gz, results/102_MES/reads/virome.reads2.fastq.gz, results/102_MES/contigs/true.virome.fasta
    output: results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.virome.reads2.fq.gz, results/102_MES/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/102_MES/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/102_MES/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 76
    reason: Missing output files: results/102_MES/reads/true.virome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz; Input files updated by another job: results/102_MES/contigs/true.virome.fasta
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/102_MES/reads/virome.reads1.fastq.gz in2=results/102_MES/reads/virome.reads2.fastq.gz         ref=results/102_MES/contigs/true.virome.fasta         outm=results/102_MES/reads/true.virome.reads1.fq.gz outm2=results/102_MES/reads/true.virome.reads2.fq.gz         scafstats=results/102_MES/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/102_MES/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/102_MES/
        
Submitted job 76 with external jobid 'Submitted batch job 27854'.
[Sat Jun 18 04:41:45 2022]
Finished job 44.
126 of 239 steps (53%) done
Select jobs to execute...

[Sat Jun 18 04:41:45 2022]
rule kaiju:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz
    output: results/100_SRF/kaiju/mvome.out, results/100_SRF/kaiju/virome.out, results/100_SRF/kaiju/mvome_summary.tsv, results/100_SRF/kaiju/virome_summary.tsv
    jobid: 33
    reason: Missing output files: results/100_SRF/kaiju/virome_summary.tsv, results/100_SRF/kaiju/mvome_summary.tsv; Input files updated by another job: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/100_SRF/reads/true.mvome.reads1.fq.gz,results/100_SRF/reads/true.virome.reads1.fq.gz         -j results/100_SRF/reads/true.mvome.reads2.fq.gz,results/100_SRF/reads/true.virome.reads2.fq.gz         -o results/100_SRF/kaiju/mvome.out,results/100_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_SRF/kaiju/mvome_summary.tsv results/100_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_SRF/kaiju/virome_summary.tsv results/100_SRF/kaiju/virome.out

        
Submitted job 33 with external jobid 'Submitted batch job 27855'.
[Sat Jun 18 04:44:41 2022]
Finished job 151.
127 of 239 steps (53%) done
Select jobs to execute...

[Sat Jun 18 04:44:41 2022]
rule checkv:
    input: results/123_MIX/vs2/final-viral-combined.fa
    output: results/123_MIX/checkv/contamination.tsv
    jobid: 233
    reason: Missing output files: results/123_MIX/checkv/contamination.tsv; Input files updated by another job: results/123_MIX/vs2/final-viral-combined.fa
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/123_MIX/vs2/final-viral-combined.fa results/123_MIX/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 233 with external jobid 'Submitted batch job 27856'.
[Sat Jun 18 04:57:33 2022]
Finished job 66.
128 of 239 steps (54%) done
Select jobs to execute...

[Sat Jun 18 04:57:33 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/contigs/metagenome.contigs.filtered.fasta
    output: results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 78
    reason: Missing output files: results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_MES/contigs/metagenome.contigs.filtered.fasta, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.mvome.reads1.fq.gz
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_MES/reads/true.mvome.reads1.fq.gz in2=results/102_MES/reads/true.mvome.reads2.fq.gz         ref=results/102_MES/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_MES/
        
Submitted job 78 with external jobid 'Submitted batch job 27857'.
[Sat Jun 18 04:57:43 2022]
Finished job 189.
129 of 239 steps (54%) done
Select jobs to execute...

[Sat Jun 18 04:57:43 2022]
rule checkv:
    input: results/111_SRF/vs2/final-viral-combined.fa
    output: results/111_SRF/checkv/contamination.tsv
    jobid: 153
    reason: Missing output files: results/111_SRF/checkv/contamination.tsv; Input files updated by another job: results/111_SRF/vs2/final-viral-combined.fa
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/111_SRF/vs2/final-viral-combined.fa results/111_SRF/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 153 with external jobid 'Submitted batch job 27858'.
[Sat Jun 18 05:04:53 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 78
    output: results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/102_MES/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_MES/reads/true.mvome.reads1.fq.gz in2=results/102_MES/reads/true.mvome.reads2.fq.gz         ref=results/102_MES/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_MES/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27857

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 78, external: Submitted batch job 27857, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.78.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 05:04:53 2022]
rule kaiju:
    input: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz
    output: results/111_DCM/kaiju/mvome.out, results/111_DCM/kaiju/virome.out, results/111_DCM/kaiju/mvome_summary.tsv, results/111_DCM/kaiju/virome_summary.tsv
    jobid: 129
    reason: Missing output files: results/111_DCM/kaiju/virome_summary.tsv, results/111_DCM/kaiju/mvome_summary.tsv; Input files updated by another job: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/111_DCM/reads/true.mvome.reads1.fq.gz,results/111_DCM/reads/true.virome.reads1.fq.gz         -j results/111_DCM/reads/true.mvome.reads2.fq.gz,results/111_DCM/reads/true.virome.reads2.fq.gz         -o results/111_DCM/kaiju/mvome.out,results/111_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_DCM/kaiju/mvome_summary.tsv results/111_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_DCM/kaiju/virome_summary.tsv results/111_DCM/kaiju/virome.out

        
Submitted job 129 with external jobid 'Submitted batch job 27859'.
[Sat Jun 18 05:09:50 2022]
Finished job 93.
130 of 239 steps (54%) done
Select jobs to execute...

[Sat Jun 18 05:09:50 2022]
localrule contig_selector:
    input: results/102_DCM/contig_summary_102_DCM.tsv, results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt
    output: results/102_DCM/contigs/true.mvome.fasta, results/102_DCM/contigs/true.virome.fasta
    log: results/102_DCM/log/contig_selector.log
    jobid: 51
    reason: Missing output files: results/102_DCM/contigs/true.virome.fasta, results/102_DCM/contigs/true.mvome.fasta; Input files updated by another job: results/102_DCM/contigs/virome.contigs.filtered.fasta, results/102_DCM/enough_filtered_virome_contigs.txt, results/102_DCM/contig_summary_102_DCM.tsv
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp

python scripts/contig_selector.py 102_DCM 2> results/102_DCM/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 05:11:02 2022]
Finished job 51.
131 of 239 steps (55%) done
Select jobs to execute...

[Sat Jun 18 05:11:02 2022]
localrule vs2_summary:
    input: results/122_SRF/vs2/final-viral-score.tsv, results/122_SRF/checkv/contamination.tsv
    output: results/122_SRF/vs2_final_report.tsv
    jobid: 214
    reason: Missing output files: results/122_SRF/vs2_final_report.tsv; Input files updated by another job: results/122_SRF/vs2/final-viral-score.tsv, results/122_SRF/checkv/contamination.tsv
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/122_SRF/vs2/final-viral-score.tsv results/122_SRF/checkv/contamination.tsv results/122_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             26             681           15879 
[Sat Jun 18 05:11:31 2022]
Finished job 214.
132 of 239 steps (55%) done
Select jobs to execute...

[Sat Jun 18 05:11:31 2022]
localrule contig_summary:
    input: results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/vs2_final_report.tsv, results/122_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/122_SRF/platon_out/platon_plasmids.log, results/122_SRF/enough_filtered_virome_contigs.txt
    output: results/122_SRF/contig_summary_122_SRF.tsv
    log: results/122_SRF/log/text_summary.log
    jobid: 212
    reason: Missing output files: results/122_SRF/contig_summary_122_SRF.tsv; Input files updated by another job: results/122_SRF/platon_out/platon_plasmids.log, results/122_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/vs2_final_report.tsv, results/122_SRF/enough_filtered_virome_contigs.txt
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 122_SRF 150000 2> results/122_SRF/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 05:11:56 2022]
Finished job 212.
133 of 239 steps (56%) done
Select jobs to execute...

[Sat Jun 18 05:11:56 2022]
localrule contig_selector:
    input: results/122_SRF/contig_summary_122_SRF.tsv, results/122_SRF/contigs/virome.contigs.filtered.fasta, results/122_SRF/enough_filtered_virome_contigs.txt
    output: results/122_SRF/contigs/true.mvome.fasta, results/122_SRF/contigs/true.virome.fasta
    log: results/122_SRF/log/contig_selector.log
    jobid: 211
    reason: Missing output files: results/122_SRF/contigs/true.mvome.fasta, results/122_SRF/contigs/true.virome.fasta; Input files updated by another job: results/122_SRF/contig_summary_122_SRF.tsv, results/122_SRF/enough_filtered_virome_contigs.txt, results/122_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp

python scripts/contig_selector.py 122_SRF 2> results/122_SRF/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 05:12:37 2022]
Finished job 211.
134 of 239 steps (56%) done
Select jobs to execute...

[Sat Jun 18 05:12:37 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/102_DCM/reads/virome.reads1.fastq.gz, results/102_DCM/reads/virome.reads2.fastq.gz, results/102_DCM/contigs/true.virome.fasta
    output: results/102_DCM/reads/true.virome.reads1.fq.gz, results/102_DCM/reads/true.virome.reads2.fq.gz, results/102_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/102_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/102_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 60
    reason: Missing output files: results/102_DCM/reads/true.virome.reads1.fq.gz, results/102_DCM/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/102_DCM/contigs/true.virome.fasta
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/102_DCM/reads/virome.reads1.fastq.gz in2=results/102_DCM/reads/virome.reads2.fastq.gz         ref=results/102_DCM/contigs/true.virome.fasta         outm=results/102_DCM/reads/true.virome.reads1.fq.gz outm2=results/102_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/102_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/102_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/102_DCM/
        
Submitted job 60 with external jobid 'Submitted batch job 27860'.
[Sat Jun 18 05:20:50 2022]
Finished job 235.
135 of 239 steps (56%) done
Select jobs to execute...

[Sat Jun 18 05:20:50 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/122_SRF/reads/virome.reads1.fastq.gz, results/122_SRF/reads/virome.reads2.fastq.gz, results/122_SRF/contigs/true.virome.fasta
    output: results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz, results/122_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/122_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/122_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 220
    reason: Missing output files: results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/122_SRF/contigs/true.virome.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/122_SRF/reads/virome.reads1.fastq.gz in2=results/122_SRF/reads/virome.reads2.fastq.gz         ref=results/122_SRF/contigs/true.virome.fasta         outm=results/122_SRF/reads/true.virome.reads1.fq.gz outm2=results/122_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/122_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/122_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/122_SRF/
        
Submitted job 220 with external jobid 'Submitted batch job 27861'.
[Sat Jun 18 05:39:12 2022]
Finished job 141.
136 of 239 steps (57%) done
Select jobs to execute...

[Sat Jun 18 05:39:12 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/122_SRF/reads/virome.reads1.fastq.gz, results/122_SRF/reads/virome.reads2.fastq.gz, results/122_SRF/contigs/true.mvome.fasta
    output: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/122_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 210
    reason: Missing output files: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz; Input files updated by another job: results/122_SRF/contigs/true.mvome.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/122_SRF/reads/virome.reads1.fastq.gz in2=results/122_SRF/reads/virome.reads2.fastq.gz         ref=results/122_SRF/contigs/true.mvome.fasta         outm=results/122_SRF/reads/true.mvome.reads1.fq.gz outm2=results/122_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/122_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/122_SRF/
        
Submitted job 210 with external jobid 'Submitted batch job 27862'.
[Sat Jun 18 05:39:44 2022]
Finished job 153.
137 of 239 steps (57%) done
Select jobs to execute...

[Sat Jun 18 05:39:44 2022]
localrule vs2_summary:
    input: results/111_SRF/vs2/final-viral-score.tsv, results/111_SRF/checkv/contamination.tsv
    output: results/111_SRF/vs2_final_report.tsv
    jobid: 150
    reason: Missing output files: results/111_SRF/vs2_final_report.tsv; Input files updated by another job: results/111_SRF/checkv/contamination.tsv, results/111_SRF/vs2/final-viral-score.tsv
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/111_SRF/vs2/final-viral-score.tsv results/111_SRF/checkv/contamination.tsv results/111_SRF/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
              2             137           12009 
[Sat Jun 18 05:40:05 2022]
Finished job 150.
138 of 239 steps (58%) done
Select jobs to execute...

[Sat Jun 18 05:40:05 2022]
localrule contig_summary:
    input: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/vs2_final_report.tsv, results/111_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/111_SRF/platon_out/platon_plasmids.log, results/111_SRF/enough_filtered_virome_contigs.txt
    output: results/111_SRF/contig_summary_111_SRF.tsv
    log: results/111_SRF/log/text_summary.log
    jobid: 148
    reason: Missing output files: results/111_SRF/contig_summary_111_SRF.tsv; Input files updated by another job: results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/enough_filtered_virome_contigs.txt, results/111_SRF/platon_out/platon_plasmids.log, results/111_SRF/vs2_final_report.tsv, results/111_SRF/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 111_SRF 150000 2> results/111_SRF/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Sat Jun 18 05:40:28 2022]
Finished job 148.
139 of 239 steps (58%) done
Select jobs to execute...

[Sat Jun 18 05:40:28 2022]
rule viromeQC:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz
    output: results/100_SRF/viromeQC/mvome_QC.tsv, results/100_SRF/viromeQC/virome_QC.tsv
    jobid: 45
    reason: Missing output files: results/100_SRF/viromeQC/mvome_QC.tsv, results/100_SRF/viromeQC/virome_QC.tsv; Input files updated by another job: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_SRF/reads/true.mvome.reads1.fq.gz results/100_SRF/reads/true.mvome.reads2.fq.gz         -o results/100_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_SRF/reads/true.virome.reads1.fq.gz results/100_SRF/reads/true.virome.reads2.fq.gz         -o results/100_SRF/viromeQC/virome_QC.tsv
        
Submitted job 45 with external jobid 'Submitted batch job 27864'.
[Sat Jun 18 06:05:14 2022]
Finished job 233.
140 of 239 steps (59%) done
Select jobs to execute...

[Sat Jun 18 06:05:14 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/102_DCM/reads/virome.reads1.fastq.gz, results/102_DCM/reads/virome.reads2.fastq.gz, results/102_DCM/contigs/true.mvome.fasta
    output: results/102_DCM/reads/true.mvome.reads1.fq.gz, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/102_DCM/log/map_virome_reads_to_mv_contigs.log
    jobid: 50
    reason: Missing output files: results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/102_DCM/contigs/true.mvome.fasta
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/102_DCM/reads/virome.reads1.fastq.gz in2=results/102_DCM/reads/virome.reads2.fastq.gz         ref=results/102_DCM/contigs/true.mvome.fasta         outm=results/102_DCM/reads/true.mvome.reads1.fq.gz outm2=results/102_DCM/reads/true.mvome.reads2.fq.gz         statsfile=results/102_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/102_DCM/
        
Submitted job 50 with external jobid 'Submitted batch job 27866'.
[Sat Jun 18 06:07:06 2022]
Finished job 210.
141 of 239 steps (59%) done
Select jobs to execute...

[Sat Jun 18 06:07:06 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 222
    reason: Missing output files: results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/122_SRF/contigs/metagenome.contigs.filtered.fasta, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/reads/true.mvome.reads1.fq.gz
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_SRF/reads/true.mvome.reads1.fq.gz in2=results/122_SRF/reads/true.mvome.reads2.fq.gz         ref=results/122_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_SRF/
        
Submitted job 222 with external jobid 'Submitted batch job 27867'.
[Sat Jun 18 06:09:50 2022]
Finished job 76.
142 of 239 steps (59%) done
Select jobs to execute...

[Sat Jun 18 06:09:50 2022]
rule kaiju:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.virome.reads2.fq.gz
    output: results/102_MES/kaiju/mvome.out, results/102_MES/kaiju/virome.out, results/102_MES/kaiju/mvome_summary.tsv, results/102_MES/kaiju/virome_summary.tsv
    jobid: 65
    reason: Missing output files: results/102_MES/kaiju/mvome_summary.tsv, results/102_MES/kaiju/virome_summary.tsv; Input files updated by another job: results/102_MES/reads/true.virome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.mvome.reads1.fq.gz
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/102_MES/reads/true.mvome.reads1.fq.gz,results/102_MES/reads/true.virome.reads1.fq.gz         -j results/102_MES/reads/true.mvome.reads2.fq.gz,results/102_MES/reads/true.virome.reads2.fq.gz         -o results/102_MES/kaiju/mvome.out,results/102_MES/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_MES/kaiju/mvome_summary.tsv results/102_MES/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_MES/kaiju/virome_summary.tsv results/102_MES/kaiju/virome.out

        
Submitted job 65 with external jobid 'Submitted batch job 27868'.
[Sat Jun 18 06:12:47 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 222
    output: results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/122_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_SRF/reads/true.mvome.reads1.fq.gz in2=results/122_SRF/reads/true.mvome.reads2.fq.gz         ref=results/122_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27867

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 222, external: Submitted batch job 27867, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.map_mv_positive_reads_to_metagenome.222.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 06:12:47 2022]
localrule contig_selector:
    input: results/111_SRF/contig_summary_111_SRF.tsv, results/111_SRF/contigs/virome.contigs.filtered.fasta, results/111_SRF/enough_filtered_virome_contigs.txt
    output: results/111_SRF/contigs/true.mvome.fasta, results/111_SRF/contigs/true.virome.fasta
    log: results/111_SRF/log/contig_selector.log
    jobid: 147
    reason: Missing output files: results/111_SRF/contigs/true.mvome.fasta, results/111_SRF/contigs/true.virome.fasta; Input files updated by another job: results/111_SRF/contig_summary_111_SRF.tsv, results/111_SRF/enough_filtered_virome_contigs.txt, results/111_SRF/contigs/virome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp

python scripts/contig_selector.py 111_SRF 2> results/111_SRF/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Sat Jun 18 06:13:13 2022]
Finished job 147.
143 of 239 steps (60%) done
Select jobs to execute...

[Sat Jun 18 06:13:13 2022]
localrule vs2_summary:
    input: results/123_MIX/vs2/final-viral-score.tsv, results/123_MIX/checkv/contamination.tsv
    output: results/123_MIX/vs2_final_report.tsv
    jobid: 230
    reason: Missing output files: results/123_MIX/vs2_final_report.tsv; Input files updated by another job: results/123_MIX/checkv/contamination.tsv, results/123_MIX/vs2/final-viral-score.tsv
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/123_MIX/vs2/final-viral-score.tsv results/123_MIX/checkv/contamination.tsv results/123_MIX/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             24             857           24072 
[Sat Jun 18 06:14:11 2022]
Finished job 230.
144 of 239 steps (60%) done
Select jobs to execute...

[Sat Jun 18 06:14:11 2022]
rule viromeQC:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.virome.reads2.fq.gz
    output: results/102_MES/viromeQC/mvome_QC.tsv, results/102_MES/viromeQC/virome_QC.tsv
    jobid: 77
    reason: Missing output files: results/102_MES/viromeQC/virome_QC.tsv, results/102_MES/viromeQC/mvome_QC.tsv; Input files updated by another job: results/102_MES/reads/true.virome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.mvome.reads1.fq.gz
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_MES/reads/true.mvome.reads1.fq.gz results/102_MES/reads/true.mvome.reads2.fq.gz         -o results/102_MES/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_MES/reads/true.virome.reads1.fq.gz results/102_MES/reads/true.virome.reads2.fq.gz         -o results/102_MES/viromeQC/virome_QC.tsv
        
Submitted job 77 with external jobid 'Submitted batch job 27869'.
[Sat Jun 18 06:22:30 2022]
Finished job 50.
145 of 239 steps (61%) done
Select jobs to execute...

[Sat Jun 18 06:22:30 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_DCM/reads/true.mvome.reads1.fq.gz, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 62
    reason: Missing output files: results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_DCM/contigs/metagenome.contigs.filtered.fasta, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_DCM/reads/true.mvome.reads1.fq.gz in2=results/102_DCM/reads/true.mvome.reads2.fq.gz         ref=results/102_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_DCM/
        
Submitted job 62 with external jobid 'Submitted batch job 27870'.
[Sat Jun 18 08:44:21 2022]
Error in rule platon:
    jobid: 123
    output: results/109_SRF/platon_out/platon_plasmids.log
    conda-env: /home/dlueckin/envs/27a720884bf11324e6be3856f7ca7ee4
    shell:
        
        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/109_SRF/platon_out/         --threads 8         results/109_SRF/contigs/virome.contigs.filtered.fasta
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27807

Error executing rule platon on cluster (jobid: 123, external: Submitted batch job 27807, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.h2v0ahsc/snakejob.platon.123.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Sat Jun 18 08:44:22 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/111_SRF/reads/virome.reads1.fastq.gz, results/111_SRF/reads/virome.reads2.fastq.gz, results/111_SRF/contigs/true.mvome.fasta
    output: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/111_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 146
    reason: Missing output files: results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/111_SRF/contigs/true.mvome.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/111_SRF/reads/virome.reads1.fastq.gz in2=results/111_SRF/reads/virome.reads2.fastq.gz         ref=results/111_SRF/contigs/true.mvome.fasta         outm=results/111_SRF/reads/true.mvome.reads1.fq.gz outm2=results/111_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/111_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/111_SRF/
        
Submitted job 146 with external jobid 'Submitted batch job 27873'.
Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 16
Job stats:
job                                        count    min threads    max threads
---------------------------------------  -------  -------------  -------------
all                                            1              1              1
checkv                                         2              1              1
contig_selector                                4              1              1
contig_summary                                 4              1              1
filter_input_metagenome_by_length             14              1              1
kaiju                                         14              1              1
map_mv_positive_reads_to_metagenome           14              1              1
map_virome_reads_to_mv_contigs                 5              1              1
map_virome_reads_to_true_virome_contigs        7              1              1
mviest_plot                                   14              1              1
mviest_summary                                14              1              1
platon                                         2              1              1
viromeQC                                       9              1              1
vs2                                            2              1              1
vs2_summary                                    2              1              1
total                                        108              1              1

Select jobs to execute...

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/102_DCM/contigs/metagenome.contigs.fasta, results/102_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 65
    reason: Missing output files: results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_DCM/contigs/metagenome.contigs.fasta         100000 > results/102_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/102_SRF/contigs/metagenome.contigs.fasta, results/102_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 99
    reason: Missing output files: results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_SRF/contigs/metagenome.contigs.fasta         100000 > results/102_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/100_DCM/contigs/metagenome.contigs.fasta, results/100_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 31
    reason: Missing output files: results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/100_DCM/contigs/metagenome.contigs.fasta         100000 > results/100_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/122_MES/contigs/metagenome.contigs.fasta, results/122_MES/log/00_INPUT_CHECK_DONE.log
    output: results/122_MES/contigs/metagenome.contigs.filtered.fasta
    jobid: 218
    reason: Missing output files: results/122_MES/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=122_MES
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_MES/contigs/metagenome.contigs.fasta         100000 > results/122_MES/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/109_SRF/contigs/metagenome.contigs.fasta, results/109_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/109_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 133
    reason: Missing output files: results/109_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/109_SRF/contigs/metagenome.contigs.fasta         100000 > results/109_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/123_MIX/contigs/metagenome.contigs.fasta, results/123_MIX/log/00_INPUT_CHECK_DONE.log
    output: results/123_MIX/contigs/metagenome.contigs.filtered.fasta
    jobid: 252
    reason: Missing output files: results/123_MIX/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/123_MIX/contigs/metagenome.contigs.fasta         100000 > results/123_MIX/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/102_MES/contigs/metagenome.contigs.fasta, results/102_MES/log/00_INPUT_CHECK_DONE.log
    output: results/102_MES/contigs/metagenome.contigs.filtered.fasta
    jobid: 82
    reason: Missing output files: results/102_MES/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_MES
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/102_MES/contigs/metagenome.contigs.fasta         100000 > results/102_MES/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
localrule filter_input_metagenome_by_length:
    input: results/122_DCM/contigs/metagenome.contigs.fasta, results/122_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 201
    reason: Missing output files: results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_DCM/contigs/metagenome.contigs.fasta         100000 > results/122_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:03:22 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/122_SRF/reads/virome.reads1.fastq.gz, results/122_SRF/reads/virome.reads2.fastq.gz, results/122_SRF/contigs/true.virome.fasta
    output: results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz, results/122_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/122_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/122_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 232
    reason: Forced execution
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/122_SRF/reads/virome.reads1.fastq.gz in2=results/122_SRF/reads/virome.reads2.fastq.gz         ref=results/122_SRF/contigs/true.virome.fasta         outm=results/122_SRF/reads/true.virome.reads1.fq.gz outm2=results/122_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/122_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/122_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/122_SRF/
        
Submitted job 232 with external jobid 'Submitted batch job 27905'.

[Mon Jun 20 12:03:22 2022]
rule kaiju:
    input: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/reads/true.virome.reads1.fq.gz, results/100_DCM/reads/true.virome.reads2.fq.gz
    output: results/100_DCM/kaiju/mvome.out, results/100_DCM/kaiju/virome.out, results/100_DCM/kaiju/mvome_summary.tsv, results/100_DCM/kaiju/virome_summary.tsv
    jobid: 17
    reason: Missing output files: results/100_DCM/kaiju/mvome_summary.tsv, results/100_DCM/kaiju/virome_summary.tsv
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/100_DCM/reads/true.mvome.reads1.fq.gz,results/100_DCM/reads/true.virome.reads1.fq.gz         -j results/100_DCM/reads/true.mvome.reads2.fq.gz,results/100_DCM/reads/true.virome.reads2.fq.gz         -o results/100_DCM/kaiju/mvome.out,results/100_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_DCM/kaiju/mvome_summary.tsv results/100_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_DCM/kaiju/virome_summary.tsv results/100_DCM/kaiju/virome.out

        
Submitted job 17 with external jobid 'Submitted batch job 27906'.

[Mon Jun 20 12:03:23 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/102_DCM/reads/virome.reads1.fastq.gz, results/102_DCM/reads/virome.reads2.fastq.gz, results/102_DCM/contigs/true.virome.fasta
    output: results/102_DCM/reads/true.virome.reads1.fq.gz, results/102_DCM/reads/true.virome.reads2.fq.gz, results/102_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/102_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/102_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 62
    reason: Forced execution
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/102_DCM/reads/virome.reads1.fastq.gz in2=results/102_DCM/reads/virome.reads2.fastq.gz         ref=results/102_DCM/contigs/true.virome.fasta         outm=results/102_DCM/reads/true.virome.reads1.fq.gz outm2=results/102_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/102_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/102_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/102_DCM/
        
Submitted job 62 with external jobid 'Submitted batch job 27907'.

[Mon Jun 20 12:03:23 2022]
rule kaiju:
    input: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/reads/true.virome.reads1.fq.gz, results/11_SRF/reads/true.virome.reads2.fq.gz
    output: results/11_SRF/kaiju/mvome.out, results/11_SRF/kaiju/virome.out, results/11_SRF/kaiju/mvome_summary.tsv, results/11_SRF/kaiju/virome_summary.tsv
    jobid: 170
    reason: Missing output files: results/11_SRF/kaiju/mvome_summary.tsv, results/11_SRF/kaiju/virome_summary.tsv
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/11_SRF/reads/true.mvome.reads1.fq.gz,results/11_SRF/reads/true.virome.reads1.fq.gz         -j results/11_SRF/reads/true.mvome.reads2.fq.gz,results/11_SRF/reads/true.virome.reads2.fq.gz         -o results/11_SRF/kaiju/mvome.out,results/11_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/11_SRF/kaiju/mvome_summary.tsv results/11_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/11_SRF/kaiju/virome_summary.tsv results/11_SRF/kaiju/virome.out

        
Submitted job 170 with external jobid 'Submitted batch job 27908'.

[Mon Jun 20 12:03:23 2022]
rule vs2:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/vs2/final-viral-combined.fa, results/109_DCM/vs2/final-viral-score.tsv
    jobid: 108
    reason: Missing output files: results/109_DCM/vs2/final-viral-combined.fa, results/109_DCM/vs2/final-viral-score.tsv
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/109_DCM/contigs/virome.contigs.filtered.fasta         -w results/109_DCM/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 108 with external jobid 'Submitted batch job 27909'.

[Mon Jun 20 12:03:23 2022]
rule kaiju:
    input: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/reads/true.virome.reads1.fq.gz, results/111_DCM/reads/true.virome.reads2.fq.gz
    output: results/111_DCM/kaiju/mvome.out, results/111_DCM/kaiju/virome.out, results/111_DCM/kaiju/mvome_summary.tsv, results/111_DCM/kaiju/virome_summary.tsv
    jobid: 136
    reason: Missing output files: results/111_DCM/kaiju/mvome_summary.tsv, results/111_DCM/kaiju/virome_summary.tsv
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/111_DCM/reads/true.mvome.reads1.fq.gz,results/111_DCM/reads/true.virome.reads1.fq.gz         -j results/111_DCM/reads/true.mvome.reads2.fq.gz,results/111_DCM/reads/true.virome.reads2.fq.gz         -o results/111_DCM/kaiju/mvome.out,results/111_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_DCM/kaiju/mvome_summary.tsv results/111_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_DCM/kaiju/virome_summary.tsv results/111_DCM/kaiju/virome.out

        
Submitted job 136 with external jobid 'Submitted batch job 27910'.

[Mon Jun 20 12:03:23 2022]
rule platon:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/enough_filtered_virome_contigs.txt
    output: results/122_MES/platon_out/platon_plasmids.log
    jobid: 214
    reason: Forced execution
    wildcards: sample=122_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/122_MES/platon_out/         --threads 8         results/122_MES/contigs/virome.contigs.filtered.fasta
        
Submitted job 214 with external jobid 'Submitted batch job 27911'.

[Mon Jun 20 12:03:23 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/111_SRF/reads/virome.reads1.fastq.gz, results/111_SRF/reads/virome.reads2.fastq.gz, results/111_SRF/contigs/true.virome.fasta
    output: results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz, results/111_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/111_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/111_SRF/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 164
    reason: Missing output files: results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/111_SRF/reads/virome.reads1.fastq.gz in2=results/111_SRF/reads/virome.reads2.fastq.gz         ref=results/111_SRF/contigs/true.virome.fasta         outm=results/111_SRF/reads/true.virome.reads1.fq.gz outm2=results/111_SRF/reads/true.virome.reads2.fq.gz         scafstats=results/111_SRF/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/111_SRF/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/111_SRF/
        
Submitted job 164 with external jobid 'Submitted batch job 27912'.
[Mon Jun 20 12:08:41 2022]
Finished job 201.
1 of 108 steps (1%) done
Select jobs to execute...

[Mon Jun 20 12:08:48 2022]
rule viromeQC:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz
    output: results/100_SRF/viromeQC/mvome_QC.tsv, results/100_SRF/viromeQC/virome_QC.tsv
    jobid: 46
    reason: Missing output files: results/100_SRF/viromeQC/virome_QC.tsv, results/100_SRF/viromeQC/mvome_QC.tsv
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_SRF/reads/true.mvome.reads1.fq.gz results/100_SRF/reads/true.mvome.reads2.fq.gz         -o results/100_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/100_SRF/reads/true.virome.reads1.fq.gz results/100_SRF/reads/true.virome.reads2.fq.gz         -o results/100_SRF/viromeQC/virome_QC.tsv
        
Submitted job 46 with external jobid 'Submitted batch job 27913'.
[Mon Jun 20 12:08:50 2022]
Finished job 218.
2 of 108 steps (2%) done
[Mon Jun 20 12:08:51 2022]
Finished job 65.
3 of 108 steps (3%) done
[Mon Jun 20 12:08:51 2022]
Finished job 133.
4 of 108 steps (4%) done
Select jobs to execute...

[Mon Jun 20 12:08:52 2022]
localrule filter_input_metagenome_by_length:
    input: results/109_DCM/contigs/metagenome.contigs.fasta, results/109_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/109_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 116
    reason: Missing output files: results/109_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/109_DCM/contigs/metagenome.contigs.fasta         100000 > results/109_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c

[Mon Jun 20 12:08:52 2022]
rule platon:
    input: results/109_SRF/contigs/virome.contigs.filtered.fasta, results/109_SRF/enough_filtered_virome_contigs.txt
    output: results/109_SRF/platon_out/platon_plasmids.log
    jobid: 129
    reason: Missing output files: results/109_SRF/platon_out/platon_plasmids.log
    wildcards: sample=109_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/109_SRF/platon_out/         --threads 8         results/109_SRF/contigs/virome.contigs.filtered.fasta
        
Submitted job 129 with external jobid 'Submitted batch job 27914'.

[Mon Jun 20 12:08:52 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_DCM/reads/true.mvome.reads1.fq.gz, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 64
    reason: Missing output files: results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_DCM/reads/true.mvome.reads1.fq.gz in2=results/102_DCM/reads/true.mvome.reads2.fq.gz         ref=results/102_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_DCM/
        
Submitted job 64 with external jobid 'Submitted batch job 27915'.
[Mon Jun 20 12:08:53 2022]
Finished job 252.
5 of 108 steps (5%) done
[Mon Jun 20 12:08:54 2022]
Finished job 82.
6 of 108 steps (6%) done
[Mon Jun 20 12:08:54 2022]
Finished job 31.
7 of 108 steps (6%) done
Select jobs to execute...

[Mon Jun 20 12:08:54 2022]
localrule contig_summary:
    input: results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/vs2_final_report.tsv, results/123_MIX/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/123_MIX/platon_out/platon_plasmids.log, results/123_MIX/enough_filtered_virome_contigs.txt
    output: results/123_MIX/contig_summary_123_MIX.tsv
    log: results/123_MIX/log/text_summary.log
    jobid: 241
    reason: Missing output files: results/123_MIX/contig_summary_123_MIX.tsv
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 123_MIX 150000 2> results/123_MIX/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1

[Mon Jun 20 12:08:54 2022]
rule kaiju:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.virome.reads2.fq.gz
    output: results/102_MES/kaiju/mvome.out, results/102_MES/kaiju/virome.out, results/102_MES/kaiju/mvome_summary.tsv, results/102_MES/kaiju/virome_summary.tsv
    jobid: 68
    reason: Missing output files: results/102_MES/kaiju/mvome_summary.tsv, results/102_MES/kaiju/virome_summary.tsv
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/102_MES/reads/true.mvome.reads1.fq.gz,results/102_MES/reads/true.virome.reads1.fq.gz         -j results/102_MES/reads/true.mvome.reads2.fq.gz,results/102_MES/reads/true.virome.reads2.fq.gz         -o results/102_MES/kaiju/mvome.out,results/102_MES/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_MES/kaiju/mvome_summary.tsv results/102_MES/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_MES/kaiju/virome_summary.tsv results/102_MES/kaiju/virome.out

        
Submitted job 68 with external jobid 'Submitted batch job 27916'.

[Mon Jun 20 12:08:54 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/100_DCM/reads/true.mvome.reads1.fq.gz, results/100_DCM/reads/true.mvome.reads2.fq.gz, results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 30
    reason: Missing output files: results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/100_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=100_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_DCM/reads/true.mvome.reads1.fq.gz in2=results/100_DCM/reads/true.mvome.reads2.fq.gz         ref=results/100_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_DCM/
        
Submitted job 30 with external jobid 'Submitted batch job 27917'.
[Mon Jun 20 12:08:54 2022]
Finished job 99.
8 of 108 steps (7%) done
Select jobs to execute...

[Mon Jun 20 12:08:54 2022]
localrule filter_input_metagenome_by_length:
    input: results/122_SRF/contigs/metagenome.contigs.fasta, results/122_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 235
    reason: Missing output files: results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/122_SRF/contigs/metagenome.contigs.fasta         100000 > results/122_SRF/contigs/metagenome.contigs.filtered.fasta
        
Select jobs to execute...
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:10:22 2022]
Finished job 241.
9 of 108 steps (8%) done

[Mon Jun 20 12:10:24 2022]
localrule filter_input_metagenome_by_length:
    input: results/111_SRF/contigs/metagenome.contigs.fasta, results/111_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/111_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 167
    reason: Missing output files: results/111_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/111_SRF/contigs/metagenome.contigs.fasta         100000 > results/111_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:10:25 2022]
Finished job 116.
10 of 108 steps (9%) done
Select jobs to execute...

[Mon Jun 20 12:10:25 2022]
rule kaiju:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/reads/true.virome.reads1.fq.gz, results/100_SRF/reads/true.virome.reads2.fq.gz
    output: results/100_SRF/kaiju/mvome.out, results/100_SRF/kaiju/virome.out, results/100_SRF/kaiju/mvome_summary.tsv, results/100_SRF/kaiju/virome_summary.tsv
    jobid: 34
    reason: Missing output files: results/100_SRF/kaiju/virome_summary.tsv, results/100_SRF/kaiju/mvome_summary.tsv
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/100_SRF/reads/true.mvome.reads1.fq.gz,results/100_SRF/reads/true.virome.reads1.fq.gz         -j results/100_SRF/reads/true.mvome.reads2.fq.gz,results/100_SRF/reads/true.virome.reads2.fq.gz         -o results/100_SRF/kaiju/mvome.out,results/100_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_SRF/kaiju/mvome_summary.tsv results/100_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/100_SRF/kaiju/virome_summary.tsv results/100_SRF/kaiju/virome.out

        
Submitted job 34 with external jobid 'Submitted batch job 27918'.
[Mon Jun 20 12:10:27 2022]
Finished job 235.
11 of 108 steps (10%) done
Select jobs to execute...

[Mon Jun 20 12:10:27 2022]
localrule contig_selector:
    input: results/123_MIX/contig_summary_123_MIX.tsv, results/123_MIX/contigs/virome.contigs.filtered.fasta, results/123_MIX/enough_filtered_virome_contigs.txt
    output: results/123_MIX/contigs/true.mvome.fasta, results/123_MIX/contigs/true.virome.fasta
    log: results/123_MIX/log/contig_selector.log
    jobid: 240
    reason: Missing output files: results/123_MIX/contigs/true.mvome.fasta, results/123_MIX/contigs/true.virome.fasta; Input files updated by another job: results/123_MIX/contig_summary_123_MIX.tsv
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp

python scripts/contig_selector.py 123_MIX 2> results/123_MIX/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:11:07 2022]
Finished job 167.
12 of 108 steps (11%) done
Select jobs to execute...

[Mon Jun 20 12:11:07 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/111_SRF/reads/virome.reads1.fastq.gz, results/111_SRF/reads/virome.reads2.fastq.gz, results/111_SRF/contigs/true.mvome.fasta
    output: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/111_SRF/log/map_virome_reads_to_mv_contigs.log
    jobid: 154
    reason: Missing output files: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/111_SRF/reads/virome.reads1.fastq.gz in2=results/111_SRF/reads/virome.reads2.fastq.gz         ref=results/111_SRF/contigs/true.mvome.fasta         outm=results/111_SRF/reads/true.mvome.reads1.fq.gz outm2=results/111_SRF/reads/true.mvome.reads2.fq.gz         statsfile=results/111_SRF/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/111_SRF/
        
Submitted job 154 with external jobid 'Submitted batch job 27919'.
[Mon Jun 20 12:11:39 2022]
Finished job 240.
13 of 108 steps (12%) done
Select jobs to execute...

[Mon Jun 20 12:11:39 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 200
    reason: Missing output files: results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/122_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_DCM/reads/true.mvome.reads1.fq.gz in2=results/122_DCM/reads/true.mvome.reads2.fq.gz         ref=results/122_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_DCM/
        
Submitted job 200 with external jobid 'Submitted batch job 27920'.
[Mon Jun 20 12:13:20 2022]
Finished job 108.
14 of 108 steps (13%) done
Select jobs to execute...

[Mon Jun 20 12:13:20 2022]
rule vs2:
    input: results/122_MES/contigs/virome.contigs.filtered.fasta, results/122_MES/enough_filtered_virome_contigs.txt
    output: results/122_MES/vs2/final-viral-combined.fa, results/122_MES/vs2/final-viral-score.tsv
    jobid: 210
    reason: Missing output files: results/122_MES/vs2/final-viral-score.tsv, results/122_MES/vs2/final-viral-combined.fa
    wildcards: sample=122_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        virsorter run --keep-original-seq -i results/122_MES/contigs/virome.contigs.filtered.fasta         -w results/122_MES/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
Submitted job 210 with external jobid 'Submitted batch job 27921'.
[Mon Jun 20 12:15:10 2022]
Finished job 170.
15 of 108 steps (14%) done
Select jobs to execute...

[Mon Jun 20 12:15:10 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/contigs/metagenome.contigs.filtered.fasta
    output: results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 81
    reason: Missing output files: results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_MES/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_MES/reads/true.mvome.reads1.fq.gz in2=results/102_MES/reads/true.mvome.reads2.fq.gz         ref=results/102_MES/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_MES/
        
Submitted job 81 with external jobid 'Submitted batch job 27922'.
[Mon Jun 20 12:15:11 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 64
    output: results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/102_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_DCM/reads/true.mvome.reads1.fq.gz in2=results/102_DCM/reads/true.mvome.reads2.fq.gz         ref=results/102_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27915

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 64, external: Submitted batch job 27915, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.64.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:15:11 2022]
localrule filter_input_metagenome_by_length:
    input: results/11_SRF/contigs/metagenome.contigs.fasta, results/11_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 184
    reason: Missing output files: results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/11_SRF/contigs/metagenome.contigs.fasta         100000 > results/11_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:15:51 2022]
Finished job 184.
16 of 108 steps (15%) done
Select jobs to execute...

[Mon Jun 20 12:15:51 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/123_MIX/reads/virome.reads1.fastq.gz, results/123_MIX/reads/virome.reads2.fastq.gz, results/123_MIX/contigs/true.virome.fasta
    output: results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz, results/123_MIX/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/123_MIX/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/123_MIX/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 249
    reason: Missing output files: results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz; Input files updated by another job: results/123_MIX/contigs/true.virome.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/123_MIX/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/123_MIX/reads/virome.reads1.fastq.gz in2=results/123_MIX/reads/virome.reads2.fastq.gz         ref=results/123_MIX/contigs/true.virome.fasta         outm=results/123_MIX/reads/true.virome.reads1.fq.gz outm2=results/123_MIX/reads/true.virome.reads2.fq.gz         scafstats=results/123_MIX/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/123_MIX/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/123_MIX/
        
Submitted job 249 with external jobid 'Submitted batch job 27923'.
[Mon Jun 20 12:15:55 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 30
    output: results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/100_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_DCM/reads/true.mvome.reads1.fq.gz in2=results/100_DCM/reads/true.mvome.reads2.fq.gz         ref=results/100_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27917

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 30, external: Submitted batch job 27917, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.30.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...
[Mon Jun 20 12:15:55 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 200
    output: results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/122_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_DCM/reads/true.mvome.reads1.fq.gz in2=results/122_DCM/reads/true.mvome.reads2.fq.gz         ref=results/122_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27920

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 200, external: Submitted batch job 27920, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.200.sh). For error details see the cluster log and the log files of the involved rule(s).

[Mon Jun 20 12:15:55 2022]
rule viromeQC:
    input: results/102_MES/reads/true.mvome.reads1.fq.gz, results/102_MES/reads/true.mvome.reads2.fq.gz, results/102_MES/reads/true.virome.reads1.fq.gz, results/102_MES/reads/true.virome.reads2.fq.gz
    output: results/102_MES/viromeQC/mvome_QC.tsv, results/102_MES/viromeQC/virome_QC.tsv
    jobid: 80
    reason: Missing output files: results/102_MES/viromeQC/mvome_QC.tsv, results/102_MES/viromeQC/virome_QC.tsv
    wildcards: sample=102_MES
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_MES/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_MES/reads/true.mvome.reads1.fq.gz results/102_MES/reads/true.mvome.reads2.fq.gz         -o results/102_MES/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_MES/reads/true.virome.reads1.fq.gz results/102_MES/reads/true.virome.reads2.fq.gz         -o results/102_MES/viromeQC/virome_QC.tsv
        
Submitted job 80 with external jobid 'Submitted batch job 27924'.
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:15:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 234
    reason: Missing output files: results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/122_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_SRF/reads/true.mvome.reads1.fq.gz in2=results/122_SRF/reads/true.mvome.reads2.fq.gz         ref=results/122_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_SRF/
        
Submitted job 234 with external jobid 'Submitted batch job 27925'.
[Mon Jun 20 12:19:47 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 234
    output: results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/122_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/122_SRF/reads/true.mvome.reads1.fq.gz in2=results/122_SRF/reads/true.mvome.reads2.fq.gz         ref=results/122_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/122_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/122_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/122_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27925

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 234, external: Submitted batch job 27925, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.234.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:19:47 2022]
rule kaiju:
    input: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/reads/true.virome.reads1.fq.gz, results/102_SRF/reads/true.virome.reads2.fq.gz
    output: results/102_SRF/kaiju/mvome.out, results/102_SRF/kaiju/virome.out, results/102_SRF/kaiju/mvome_summary.tsv, results/102_SRF/kaiju/virome_summary.tsv
    jobid: 85
    reason: Missing output files: results/102_SRF/kaiju/mvome_summary.tsv, results/102_SRF/kaiju/virome_summary.tsv
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/102_SRF/reads/true.mvome.reads1.fq.gz,results/102_SRF/reads/true.virome.reads1.fq.gz         -j results/102_SRF/reads/true.mvome.reads2.fq.gz,results/102_SRF/reads/true.virome.reads2.fq.gz         -o results/102_SRF/kaiju/mvome.out,results/102_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_SRF/kaiju/mvome_summary.tsv results/102_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_SRF/kaiju/virome_summary.tsv results/102_SRF/kaiju/virome.out

        
Submitted job 85 with external jobid 'Submitted batch job 27926'.
[Mon Jun 20 12:22:31 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 81
    output: results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/102_MES/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_MES/reads/true.mvome.reads1.fq.gz in2=results/102_MES/reads/true.mvome.reads2.fq.gz         ref=results/102_MES/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_MES/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_MES/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_MES/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27922

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 81, external: Submitted batch job 27922, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.81.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:22:31 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/11_SRF/reads/true.mvome.reads1.fq.gz, results/11_SRF/reads/true.mvome.reads2.fq.gz, results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 183
    reason: Missing output files: results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/11_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=11_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/11_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/11_SRF/reads/true.mvome.reads1.fq.gz in2=results/11_SRF/reads/true.mvome.reads2.fq.gz         ref=results/11_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/11_SRF/
        
Submitted job 183 with external jobid 'Submitted batch job 27927'.
[Mon Jun 20 12:24:22 2022]
Finished job 154.
17 of 108 steps (16%) done
Select jobs to execute...

[Mon Jun 20 12:24:23 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/111_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 166
    reason: Missing output files: results/111_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/111_SRF/contigs/metagenome.contigs.filtered.fasta, results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_SRF/reads/true.mvome.reads1.fq.gz in2=results/111_SRF/reads/true.mvome.reads2.fq.gz         ref=results/111_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_SRF/
        
Submitted job 166 with external jobid 'Submitted batch job 27928'.
[Mon Jun 20 12:28:13 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 183
    output: results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/11_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/11_SRF/reads/true.mvome.reads1.fq.gz in2=results/11_SRF/reads/true.mvome.reads2.fq.gz         ref=results/11_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/11_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/11_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/11_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27927

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 183, external: Submitted batch job 27927, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.183.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:28:13 2022]
localrule filter_input_metagenome_by_length:
    input: results/100_SRF/contigs/metagenome.contigs.fasta, results/100_SRF/log/00_INPUT_CHECK_DONE.log
    output: results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    jobid: 48
    reason: Missing output files: results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/100_SRF/contigs/metagenome.contigs.fasta         100000 > results/100_SRF/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:28:14 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 166
    output: results/111_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/111_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_SRF/reads/true.mvome.reads1.fq.gz in2=results/111_SRF/reads/true.mvome.reads2.fq.gz         ref=results/111_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27928

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 166, external: Submitted batch job 27928, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.166.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:28:14 2022]
rule checkv:
    input: results/109_DCM/vs2/final-viral-combined.fa
    output: results/109_DCM/checkv/contamination.tsv
    jobid: 110
    reason: Missing output files: results/109_DCM/checkv/contamination.tsv; Input files updated by another job: results/109_DCM/vs2/final-viral-combined.fa
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        checkv end_to_end results/109_DCM/vs2/final-viral-combined.fa results/109_DCM/checkv         -t 8 -d /home/dlueckin/dbs/checkv-db-v1.0
        
Submitted job 110 with external jobid 'Submitted batch job 27929'.
[Mon Jun 20 12:28:53 2022]
Finished job 48.
18 of 108 steps (17%) done
Select jobs to execute...

[Mon Jun 20 12:28:53 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/100_SRF/reads/true.mvome.reads1.fq.gz, results/100_SRF/reads/true.mvome.reads2.fq.gz, results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 47
    reason: Missing output files: results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/100_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=100_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/100_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_SRF/reads/true.mvome.reads1.fq.gz in2=results/100_SRF/reads/true.mvome.reads2.fq.gz         ref=results/100_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_SRF/
        
Submitted job 47 with external jobid 'Submitted batch job 27930'.
[Mon Jun 20 12:32:49 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 47
    output: results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/100_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/100_SRF/reads/true.mvome.reads1.fq.gz in2=results/100_SRF/reads/true.mvome.reads2.fq.gz         ref=results/100_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/100_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/100_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/100_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27930

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 47, external: Submitted batch job 27930, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.47.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:32:49 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/123_MIX/reads/virome.reads1.fastq.gz, results/123_MIX/reads/virome.reads2.fastq.gz, results/123_MIX/contigs/true.mvome.fasta
    output: results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/123_MIX/log/map_virome_reads_to_mv_contigs.log
    jobid: 239
    reason: Missing output files: results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/123_MIX/contigs/true.mvome.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/123_MIX/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/123_MIX/reads/virome.reads1.fastq.gz in2=results/123_MIX/reads/virome.reads2.fastq.gz         ref=results/123_MIX/contigs/true.mvome.fasta         outm=results/123_MIX/reads/true.mvome.reads1.fq.gz outm2=results/123_MIX/reads/true.mvome.reads2.fq.gz         statsfile=results/123_MIX/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/123_MIX/
        
Submitted job 239 with external jobid 'Submitted batch job 27931'.
[Mon Jun 20 12:52:28 2022]
Finished job 239.
19 of 108 steps (18%) done
Select jobs to execute...

[Mon Jun 20 12:52:28 2022]
localrule filter_input_metagenome_by_length:
    input: results/111_DCM/contigs/metagenome.contigs.fasta, results/111_DCM/log/00_INPUT_CHECK_DONE.log
    output: results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    jobid: 150
    reason: Missing output files: results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp


        python3 scripts/filter_by_len.py results/111_DCM/contigs/metagenome.contigs.fasta         100000 > results/111_DCM/contigs/metagenome.contigs.filtered.fasta
        
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 12:53:21 2022]
Finished job 150.
20 of 108 steps (19%) done
Select jobs to execute...

[Mon Jun 20 12:53:21 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/111_DCM/reads/true.mvome.reads1.fq.gz, results/111_DCM/reads/true.mvome.reads2.fq.gz, results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 149
    reason: Missing output files: results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/111_DCM/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=111_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_DCM/reads/true.mvome.reads1.fq.gz in2=results/111_DCM/reads/true.mvome.reads2.fq.gz         ref=results/111_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_DCM/
        
Submitted job 149 with external jobid 'Submitted batch job 27932'.
[Mon Jun 20 12:57:14 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 149
    output: results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/111_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/111_DCM/reads/true.mvome.reads1.fq.gz in2=results/111_DCM/reads/true.mvome.reads2.fq.gz         ref=results/111_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/111_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/111_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/111_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27932

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 149, external: Submitted batch job 27932, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.149.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
Select jobs to execute...

[Mon Jun 20 12:57:15 2022]
rule kaiju:
    input: results/122_DCM/reads/true.mvome.reads1.fq.gz, results/122_DCM/reads/true.mvome.reads2.fq.gz, results/122_DCM/reads/true.virome.reads1.fq.gz, results/122_DCM/reads/true.virome.reads2.fq.gz
    output: results/122_DCM/kaiju/mvome.out, results/122_DCM/kaiju/virome.out, results/122_DCM/kaiju/mvome_summary.tsv, results/122_DCM/kaiju/virome_summary.tsv
    jobid: 187
    reason: Missing output files: results/122_DCM/kaiju/virome_summary.tsv, results/122_DCM/kaiju/mvome_summary.tsv
    wildcards: sample=122_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/122_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/122_DCM/reads/true.mvome.reads1.fq.gz,results/122_DCM/reads/true.virome.reads1.fq.gz         -j results/122_DCM/reads/true.mvome.reads2.fq.gz,results/122_DCM/reads/true.virome.reads2.fq.gz         -o results/122_DCM/kaiju/mvome.out,results/122_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_DCM/kaiju/mvome_summary.tsv results/122_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_DCM/kaiju/virome_summary.tsv results/122_DCM/kaiju/virome.out

        
Submitted job 187 with external jobid 'Submitted batch job 27933'.
[Mon Jun 20 13:17:37 2022]
Finished job 34.
21 of 108 steps (19%) done
Select jobs to execute...

[Mon Jun 20 13:17:37 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/contigs/metagenome.contigs.filtered.fasta
    output: results/123_MIX/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/123_MIX/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 251
    reason: Missing output files: results/123_MIX/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/123_MIX/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/123_MIX/reads/true.mvome.reads1.fq.gz in2=results/123_MIX/reads/true.mvome.reads2.fq.gz         ref=results/123_MIX/contigs/metagenome.contigs.filtered.fasta         scafstats=results/123_MIX/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/123_MIX/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/123_MIX/
        
Submitted job 251 with external jobid 'Submitted batch job 27934'.
[Mon Jun 20 13:20:21 2022]
Finished job 136.
22 of 108 steps (20%) done
Select jobs to execute...

[Mon Jun 20 13:20:21 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/102_SRF/reads/true.mvome.reads1.fq.gz, results/102_SRF/reads/true.mvome.reads2.fq.gz, results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    output: results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 98
    reason: Missing output files: results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/102_SRF/contigs/metagenome.contigs.filtered.fasta
    wildcards: sample=102_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_SRF/reads/true.mvome.reads1.fq.gz in2=results/102_SRF/reads/true.mvome.reads2.fq.gz         ref=results/102_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_SRF/
        
Submitted job 98 with external jobid 'Submitted batch job 27935'.
[Mon Jun 20 13:23:18 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 251
    output: results/123_MIX/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/123_MIX/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/123_MIX/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/123_MIX/reads/true.mvome.reads1.fq.gz in2=results/123_MIX/reads/true.mvome.reads2.fq.gz         ref=results/123_MIX/contigs/metagenome.contigs.filtered.fasta         scafstats=results/123_MIX/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/123_MIX/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/123_MIX/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27934

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 251, external: Submitted batch job 27934, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.251.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
[Mon Jun 20 13:25:07 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 98
    output: results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/102_SRF/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/102_SRF/reads/true.mvome.reads1.fq.gz in2=results/102_SRF/reads/true.mvome.reads2.fq.gz         ref=results/102_SRF/contigs/metagenome.contigs.filtered.fasta         scafstats=results/102_SRF/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/102_SRF/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/102_SRF/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27935

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 98, external: Submitted batch job 27935, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.98.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
[Mon Jun 20 13:26:58 2022]
Finished job 17.
23 of 108 steps (21%) done
[Mon Jun 20 13:27:42 2022]
Finished job 68.
24 of 108 steps (22%) done
[Mon Jun 20 13:29:32 2022]
Finished job 85.
25 of 108 steps (23%) done
[Mon Jun 20 13:48:59 2022]
Finished job 110.
26 of 108 steps (24%) done
Select jobs to execute...

[Mon Jun 20 13:48:59 2022]
localrule vs2_summary:
    input: results/109_DCM/vs2/final-viral-score.tsv, results/109_DCM/checkv/contamination.tsv
    output: results/109_DCM/vs2_final_report.tsv
    jobid: 107
    reason: Missing output files: results/109_DCM/vs2_final_report.tsv; Input files updated by another job: results/109_DCM/checkv/contamination.tsv, results/109_DCM/vs2/final-viral-score.tsv
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp

Rscript scripts/analyze_vs2_output.R results/109_DCM/vs2/final-viral-score.tsv results/109_DCM/checkv/contamination.tsv results/109_DCM/vs2_final_report.tsv
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[1] "Quick Summary"

manual curation       not viral      true viral 
             17             525           19673 
[Mon Jun 20 13:49:32 2022]
Finished job 107.
27 of 108 steps (25%) done
Select jobs to execute...

[Mon Jun 20 13:49:32 2022]
localrule contig_summary:
    input: results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/vs2_final_report.tsv, results/109_DCM/dvf/virome.contigs.filtered.fasta_gt1bp_dvfpred.txt, results/109_DCM/platon_out/platon_plasmids.log, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/contig_summary_109_DCM.tsv
    log: results/109_DCM/log/text_summary.log
    jobid: 105
    reason: Missing output files: results/109_DCM/contig_summary_109_DCM.tsv; Input files updated by another job: results/109_DCM/vs2_final_report.tsv
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp

Rscript scripts/summarize.R 109_DCM 150000 2> results/109_DCM/log/text_summary.log
Activating conda environment: /home/dlueckin/envs/f0661911c8f8fcc4fdcd06216d834fa1
[Mon Jun 20 13:50:06 2022]
Finished job 105.
28 of 108 steps (26%) done
Select jobs to execute...

[Mon Jun 20 13:50:06 2022]
localrule contig_selector:
    input: results/109_DCM/contig_summary_109_DCM.tsv, results/109_DCM/contigs/virome.contigs.filtered.fasta, results/109_DCM/enough_filtered_virome_contigs.txt
    output: results/109_DCM/contigs/true.mvome.fasta, results/109_DCM/contigs/true.virome.fasta
    log: results/109_DCM/log/contig_selector.log
    jobid: 104
    reason: Missing output files: results/109_DCM/contigs/true.virome.fasta, results/109_DCM/contigs/true.mvome.fasta; Input files updated by another job: results/109_DCM/contig_summary_109_DCM.tsv
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp

python scripts/contig_selector.py 109_DCM 2> results/109_DCM/log/contig_selector.log
Activating conda environment: /home/dlueckin/envs/f57ba2b792805d07331ad6f4d9adf21c
[Mon Jun 20 13:50:53 2022]
Finished job 104.
29 of 108 steps (27%) done
Select jobs to execute...

[Mon Jun 20 13:50:53 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/109_DCM/reads/virome.reads1.fastq.gz, results/109_DCM/reads/virome.reads2.fastq.gz, results/109_DCM/contigs/true.mvome.fasta
    output: results/109_DCM/reads/true.mvome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/109_DCM/log/map_virome_reads_to_mv_contigs.log
    jobid: 103
    reason: Missing output files: results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.mvome.reads1.fq.gz; Input files updated by another job: results/109_DCM/contigs/true.mvome.fasta
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/109_DCM/mappings/input_reads_vs_mv_contigs/

        bbmap.sh in=results/109_DCM/reads/virome.reads1.fastq.gz in2=results/109_DCM/reads/virome.reads2.fastq.gz         ref=results/109_DCM/contigs/true.mvome.fasta         outm=results/109_DCM/reads/true.mvome.reads1.fq.gz outm2=results/109_DCM/reads/true.mvome.reads2.fq.gz         statsfile=results/109_DCM/mappings/input_reads_vs_mv_contigs/statsfile.txt         t=8         path=results/109_DCM/
        
Submitted job 103 with external jobid 'Submitted batch job 27955'.

[Mon Jun 20 13:50:53 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/109_DCM/reads/virome.reads1.fastq.gz, results/109_DCM/reads/virome.reads2.fastq.gz, results/109_DCM/contigs/true.virome.fasta
    output: results/109_DCM/reads/true.virome.reads1.fq.gz, results/109_DCM/reads/true.virome.reads2.fq.gz, results/109_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/109_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/109_DCM/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 113
    reason: Missing output files: results/109_DCM/reads/true.virome.reads2.fq.gz, results/109_DCM/reads/true.virome.reads1.fq.gz; Input files updated by another job: results/109_DCM/contigs/true.virome.fasta
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/109_DCM/mappings/input_reads_vs_true_virome_contigs/

        bbmap.sh in=results/109_DCM/reads/virome.reads1.fastq.gz in2=results/109_DCM/reads/virome.reads2.fastq.gz         ref=results/109_DCM/contigs/true.virome.fasta         outm=results/109_DCM/reads/true.virome.reads1.fq.gz outm2=results/109_DCM/reads/true.virome.reads2.fq.gz         scafstats=results/109_DCM/mappings/input_reads_vs_true_virome_contigs/scafstats.txt         rpkm=results/109_DCM/mappings/input_reads_vs_true_virome_contigs/rpkm.txt         t=8         path=results/109_DCM/
        
Submitted job 113 with external jobid 'Submitted batch job 27956'.
[Mon Jun 20 13:54:52 2022]
Finished job 62.
30 of 108 steps (28%) done
Select jobs to execute...

[Mon Jun 20 13:54:52 2022]
rule viromeQC:
    input: results/102_DCM/reads/true.mvome.reads1.fq.gz, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/reads/true.virome.reads1.fq.gz, results/102_DCM/reads/true.virome.reads2.fq.gz
    output: results/102_DCM/viromeQC/mvome_QC.tsv, results/102_DCM/viromeQC/virome_QC.tsv
    jobid: 63
    reason: Missing output files: results/102_DCM/viromeQC/virome_QC.tsv, results/102_DCM/viromeQC/mvome_QC.tsv; Input files updated by another job: results/102_DCM/reads/true.virome.reads2.fq.gz, results/102_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_DCM/reads/true.mvome.reads1.fq.gz results/102_DCM/reads/true.mvome.reads2.fq.gz         -o results/102_DCM/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/102_DCM/reads/true.virome.reads1.fq.gz results/102_DCM/reads/true.virome.reads2.fq.gz         -o results/102_DCM/viromeQC/virome_QC.tsv
        
Submitted job 63 with external jobid 'Submitted batch job 27961'.

[Mon Jun 20 13:54:52 2022]
rule kaiju:
    input: results/102_DCM/reads/true.mvome.reads1.fq.gz, results/102_DCM/reads/true.mvome.reads2.fq.gz, results/102_DCM/reads/true.virome.reads1.fq.gz, results/102_DCM/reads/true.virome.reads2.fq.gz
    output: results/102_DCM/kaiju/mvome.out, results/102_DCM/kaiju/virome.out, results/102_DCM/kaiju/mvome_summary.tsv, results/102_DCM/kaiju/virome_summary.tsv
    jobid: 51
    reason: Missing output files: results/102_DCM/kaiju/mvome_summary.tsv, results/102_DCM/kaiju/virome_summary.tsv; Input files updated by another job: results/102_DCM/reads/true.virome.reads2.fq.gz, results/102_DCM/reads/true.virome.reads1.fq.gz
    wildcards: sample=102_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/102_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/102_DCM/reads/true.mvome.reads1.fq.gz,results/102_DCM/reads/true.virome.reads1.fq.gz         -j results/102_DCM/reads/true.mvome.reads2.fq.gz,results/102_DCM/reads/true.virome.reads2.fq.gz         -o results/102_DCM/kaiju/mvome.out,results/102_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_DCM/kaiju/mvome_summary.tsv results/102_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/102_DCM/kaiju/virome_summary.tsv results/102_DCM/kaiju/virome.out

        
Submitted job 51 with external jobid 'Submitted batch job 27962'.
[Mon Jun 20 13:57:48 2022]
Finished job 80.
31 of 108 steps (29%) done
[Mon Jun 20 13:58:34 2022]
Finished job 103.
32 of 108 steps (30%) done
Select jobs to execute...

[Mon Jun 20 13:58:34 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/109_DCM/reads/true.mvome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/contigs/metagenome.contigs.filtered.fasta
    output: results/109_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/109_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 115
    reason: Missing output files: results/109_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt; Input files updated by another job: results/109_DCM/contigs/metagenome.contigs.filtered.fasta, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/109_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/109_DCM/reads/true.mvome.reads1.fq.gz in2=results/109_DCM/reads/true.mvome.reads2.fq.gz         ref=results/109_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/109_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/109_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/109_DCM/
        
Submitted job 115 with external jobid 'Submitted batch job 27964'.
[Mon Jun 20 14:01:18 2022]
Finished job 187.
33 of 108 steps (31%) done
[Mon Jun 20 14:01:18 2022]
Error in rule map_mv_positive_reads_to_metagenome:
    jobid: 115
    output: results/109_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/109_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt
    conda-env: /home/dlueckin/envs/5d4e85a35c56e51e05439eea80ff814b
    shell:
        
        mkdir -p results/109_DCM/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/109_DCM/reads/true.mvome.reads1.fq.gz in2=results/109_DCM/reads/true.mvome.reads2.fq.gz         ref=results/109_DCM/contigs/metagenome.contigs.filtered.fasta         scafstats=results/109_DCM/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/109_DCM/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         path=results/109_DCM/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27964

Error executing rule map_mv_positive_reads_to_metagenome on cluster (jobid: 115, external: Submitted batch job 27964, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.map_mv_positive_reads_to_metagenome.115.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
[Mon Jun 20 14:21:51 2022]
Finished job 232.
34 of 108 steps (31%) done
Select jobs to execute...

[Mon Jun 20 14:21:51 2022]
rule kaiju:
    input: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz
    output: results/122_SRF/kaiju/mvome.out, results/122_SRF/kaiju/virome.out, results/122_SRF/kaiju/mvome_summary.tsv, results/122_SRF/kaiju/virome_summary.tsv
    jobid: 221
    reason: Missing output files: results/122_SRF/kaiju/mvome_summary.tsv, results/122_SRF/kaiju/virome_summary.tsv; Input files updated by another job: results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/122_SRF/reads/true.mvome.reads1.fq.gz,results/122_SRF/reads/true.virome.reads1.fq.gz         -j results/122_SRF/reads/true.mvome.reads2.fq.gz,results/122_SRF/reads/true.virome.reads2.fq.gz         -o results/122_SRF/kaiju/mvome.out,results/122_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_SRF/kaiju/mvome_summary.tsv results/122_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/122_SRF/kaiju/virome_summary.tsv results/122_SRF/kaiju/virome.out

        
Submitted job 221 with external jobid 'Submitted batch job 27987'.

[Mon Jun 20 14:21:51 2022]
rule viromeQC:
    input: results/122_SRF/reads/true.mvome.reads1.fq.gz, results/122_SRF/reads/true.mvome.reads2.fq.gz, results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz
    output: results/122_SRF/viromeQC/mvome_QC.tsv, results/122_SRF/viromeQC/virome_QC.tsv
    jobid: 233
    reason: Missing output files: results/122_SRF/viromeQC/mvome_QC.tsv, results/122_SRF/viromeQC/virome_QC.tsv; Input files updated by another job: results/122_SRF/reads/true.virome.reads1.fq.gz, results/122_SRF/reads/true.virome.reads2.fq.gz
    wildcards: sample=122_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/122_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/122_SRF/reads/true.mvome.reads1.fq.gz results/122_SRF/reads/true.mvome.reads2.fq.gz         -o results/122_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/122_SRF/reads/true.virome.reads1.fq.gz results/122_SRF/reads/true.virome.reads2.fq.gz         -o results/122_SRF/viromeQC/virome_QC.tsv
        
Submitted job 233 with external jobid 'Submitted batch job 27988'.
[Mon Jun 20 14:24:36 2022]
Finished job 164.
35 of 108 steps (32%) done
Select jobs to execute...

[Mon Jun 20 14:24:36 2022]
rule viromeQC:
    input: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz
    output: results/111_SRF/viromeQC/mvome_QC.tsv, results/111_SRF/viromeQC/virome_QC.tsv
    jobid: 165
    reason: Missing output files: results/111_SRF/viromeQC/mvome_QC.tsv, results/111_SRF/viromeQC/virome_QC.tsv; Input files updated by another job: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/111_SRF/reads/true.mvome.reads1.fq.gz results/111_SRF/reads/true.mvome.reads2.fq.gz         -o results/111_SRF/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/111_SRF/reads/true.virome.reads1.fq.gz results/111_SRF/reads/true.virome.reads2.fq.gz         -o results/111_SRF/viromeQC/virome_QC.tsv
        
Submitted job 165 with external jobid 'Submitted batch job 27989'.

[Mon Jun 20 14:24:36 2022]
rule kaiju:
    input: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz
    output: results/111_SRF/kaiju/mvome.out, results/111_SRF/kaiju/virome.out, results/111_SRF/kaiju/mvome_summary.tsv, results/111_SRF/kaiju/virome_summary.tsv
    jobid: 153
    reason: Missing output files: results/111_SRF/kaiju/virome_summary.tsv, results/111_SRF/kaiju/mvome_summary.tsv; Input files updated by another job: results/111_SRF/reads/true.mvome.reads1.fq.gz, results/111_SRF/reads/true.mvome.reads2.fq.gz, results/111_SRF/reads/true.virome.reads1.fq.gz, results/111_SRF/reads/true.virome.reads2.fq.gz
    wildcards: sample=111_SRF
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/111_SRF/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/111_SRF/reads/true.mvome.reads1.fq.gz,results/111_SRF/reads/true.virome.reads1.fq.gz         -j results/111_SRF/reads/true.mvome.reads2.fq.gz,results/111_SRF/reads/true.virome.reads2.fq.gz         -o results/111_SRF/kaiju/mvome.out,results/111_SRF/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_SRF/kaiju/mvome_summary.tsv results/111_SRF/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/111_SRF/kaiju/virome_summary.tsv results/111_SRF/kaiju/virome.out

        
Submitted job 153 with external jobid 'Submitted batch job 27990'.
[Mon Jun 20 14:27:32 2022]
Finished job 113.
36 of 108 steps (33%) done
Select jobs to execute...

[Mon Jun 20 14:27:32 2022]
rule kaiju:
    input: results/109_DCM/reads/true.mvome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.virome.reads1.fq.gz, results/109_DCM/reads/true.virome.reads2.fq.gz
    output: results/109_DCM/kaiju/mvome.out, results/109_DCM/kaiju/virome.out, results/109_DCM/kaiju/mvome_summary.tsv, results/109_DCM/kaiju/virome_summary.tsv
    jobid: 102
    reason: Missing output files: results/109_DCM/kaiju/virome_summary.tsv, results/109_DCM/kaiju/mvome_summary.tsv; Input files updated by another job: results/109_DCM/reads/true.virome.reads2.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.virome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/109_DCM/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/109_DCM/reads/true.mvome.reads1.fq.gz,results/109_DCM/reads/true.virome.reads1.fq.gz         -j results/109_DCM/reads/true.mvome.reads2.fq.gz,results/109_DCM/reads/true.virome.reads2.fq.gz         -o results/109_DCM/kaiju/mvome.out,results/109_DCM/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/109_DCM/kaiju/mvome_summary.tsv results/109_DCM/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/109_DCM/kaiju/virome_summary.tsv results/109_DCM/kaiju/virome.out

        
Submitted job 102 with external jobid 'Submitted batch job 27991'.

[Mon Jun 20 14:27:32 2022]
rule viromeQC:
    input: results/109_DCM/reads/true.mvome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.virome.reads1.fq.gz, results/109_DCM/reads/true.virome.reads2.fq.gz
    output: results/109_DCM/viromeQC/mvome_QC.tsv, results/109_DCM/viromeQC/virome_QC.tsv
    jobid: 114
    reason: Missing output files: results/109_DCM/viromeQC/mvome_QC.tsv, results/109_DCM/viromeQC/virome_QC.tsv; Input files updated by another job: results/109_DCM/reads/true.virome.reads2.fq.gz, results/109_DCM/reads/true.mvome.reads2.fq.gz, results/109_DCM/reads/true.virome.reads1.fq.gz, results/109_DCM/reads/true.mvome.reads1.fq.gz
    wildcards: sample=109_DCM
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/109_DCM/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/109_DCM/reads/true.mvome.reads1.fq.gz results/109_DCM/reads/true.mvome.reads2.fq.gz         -o results/109_DCM/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/109_DCM/reads/true.virome.reads1.fq.gz results/109_DCM/reads/true.virome.reads2.fq.gz         -o results/109_DCM/viromeQC/virome_QC.tsv
        
Submitted job 114 with external jobid 'Submitted batch job 27992'.
[Mon Jun 20 14:31:36 2022]
Finished job 249.
37 of 108 steps (34%) done
Select jobs to execute...

[Mon Jun 20 14:31:36 2022]
rule kaiju:
    input: results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz
    output: results/123_MIX/kaiju/mvome.out, results/123_MIX/kaiju/virome.out, results/123_MIX/kaiju/mvome_summary.tsv, results/123_MIX/kaiju/virome_summary.tsv
    jobid: 238
    reason: Missing output files: results/123_MIX/kaiju/virome_summary.tsv, results/123_MIX/kaiju/mvome_summary.tsv; Input files updated by another job: results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/123_MIX/kaiju
        
        kaiju-multi -z 8         -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi         -i results/123_MIX/reads/true.mvome.reads1.fq.gz,results/123_MIX/reads/true.virome.reads1.fq.gz         -j results/123_MIX/reads/true.mvome.reads2.fq.gz,results/123_MIX/reads/true.virome.reads2.fq.gz         -o results/123_MIX/kaiju/mvome.out,results/123_MIX/kaiju/virome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/123_MIX/kaiju/mvome_summary.tsv results/123_MIX/kaiju/mvome.out

        kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp         -r genus -o results/123_MIX/kaiju/virome_summary.tsv results/123_MIX/kaiju/virome.out

        
Submitted job 238 with external jobid 'Submitted batch job 27993'.

[Mon Jun 20 14:31:36 2022]
rule viromeQC:
    input: results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz
    output: results/123_MIX/viromeQC/mvome_QC.tsv, results/123_MIX/viromeQC/virome_QC.tsv
    jobid: 250
    reason: Missing output files: results/123_MIX/viromeQC/mvome_QC.tsv, results/123_MIX/viromeQC/virome_QC.tsv; Input files updated by another job: results/123_MIX/reads/true.mvome.reads2.fq.gz, results/123_MIX/reads/true.mvome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads1.fq.gz, results/123_MIX/reads/true.virome.reads2.fq.gz
    wildcards: sample=123_MIX
    resources: tmpdir=/tmp, mem=80G, time=12:00:00, ntasks=8


        mkdir -p results/123_MIX/viromeQC

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/123_MIX/reads/true.mvome.reads1.fq.gz results/123_MIX/reads/true.mvome.reads2.fq.gz         -o results/123_MIX/viromeQC/mvome_QC.tsv

        python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental         --diamond_threads 8 --bowtie2_threads 8         -i results/123_MIX/reads/true.virome.reads1.fq.gz results/123_MIX/reads/true.virome.reads2.fq.gz         -o results/123_MIX/viromeQC/virome_QC.tsv
        
Submitted job 250 with external jobid 'Submitted batch job 27994'.
[Mon Jun 20 14:48:39 2022]
Finished job 51.
38 of 108 steps (35%) done
[Mon Jun 20 14:53:47 2022]
Finished job 46.
39 of 108 steps (36%) done
[Mon Jun 20 14:55:37 2022]
Finished job 114.
40 of 108 steps (37%) done
[Mon Jun 20 15:01:51 2022]
Finished job 63.
41 of 108 steps (38%) done
[Mon Jun 20 15:41:08 2022]
Finished job 250.
42 of 108 steps (39%) done
[Mon Jun 20 16:29:52 2022]
Error in rule vs2:
    jobid: 210
    output: results/122_MES/vs2/final-viral-combined.fa, results/122_MES/vs2/final-viral-score.tsv
    conda-env: /home/dlueckin/envs/938627424651a88effb2697517bcbddb
    shell:
        
        virsorter run --keep-original-seq -i results/122_MES/contigs/virome.contigs.filtered.fasta         -w results/122_MES/vs2         --min-score 0.5 -j 8 all --db-dir /home/dlueckin/dbs/vs2/db/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 27921

Error executing rule vs2 on cluster (jobid: 210, external: Submitted batch job 27921, jobscript: /home/dlueckin/projects/mvome_pipeline/mviest/.snakemake/tmp.vl63vk3m/snakejob.vs2.210.sh). For error details see the cluster log and the log files of the involved rule(s).
Job failed, going on with independent jobs.
[Mon Jun 20 16:38:33 2022]
Finished job 165.
43 of 108 steps (40%) done
[Mon Jun 20 16:50:14 2022]
Finished job 233.
44 of 108 steps (41%) done
[Tue Jun 21 00:47:25 2022]
Finished job 102.
45 of 108 steps (42%) done
[Tue Jun 21 00:56:06 2022]
Finished job 221.
46 of 108 steps (43%) done
[Tue Jun 21 01:49:49 2022]
Finished job 153.
47 of 108 steps (44%) done
[Tue Jun 21 02:27:31 2022]
Finished job 238.
48 of 108 steps (44%) done
Terminating processes on user request, this might take some time.
Will exit after finishing currently running jobs.
Cancelling snakemake on user request.
