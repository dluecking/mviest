Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 32
Job stats:
job                                        count    min threads    max threads
---------------------------------------  -------  -------------  -------------
all                                            1              1              1
contig_selector                                1              1              1
contig_summary                                 1              1              1
kaiju_mvome                                    7              1              1
kaiju_virome                                  10              1              1
map_mv_positive_reads_to_metagenome           22              1              1
map_virome_reads_to_mv_contigs                 6              1              1
map_virome_reads_to_true_virome_contigs        3              1              1
mviest_plot                                   25              1              1
mviest_summary                                25              1              1
platon                                         1              1              1
viromeQC_mvome                                 7              1              1
viromeQC_virome                                6              1              1
total                                        115              1              1

Select jobs to execute...

[Wed Jun 22 16:01:55 2022]
rule kaiju_virome:
    input: results/mv16/reads/true.virome.reads1.fq.gz, results/mv16/reads/true.virome.reads2.fq.gz
    output: results/mv16/kaiju/virome.out, results/mv16/kaiju/virome_summary.tsv
    jobid: 104
    reason: Missing output files: results/mv16/kaiju/virome_summary.tsv
    wildcards: sample=mv16
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv16/kaiju
        
        if [ -s results/mv16/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv16/reads/true.virome.reads1.fq.gz             -j results/mv16/reads/true.virome.reads2.fq.gz             -o results/mv16/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv16/kaiju/virome_summary.tsv results/mv16/kaiju/virome.out
        else
            touch results/mv16/kaiju/virome.out results/mv16/kaiju/virome_summary.tsv
        fi
        
Submitted job 104 with external jobid 'Submitted batch job 28445'.

[Wed Jun 22 16:01:55 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115967/reads/true.mvome.reads1.fq.gz, results/SRR12115967/reads/true.mvome.reads2.fq.gz, results/SRR12115967/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115967/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115967/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 522
    reason: Missing output files: results/SRR12115967/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115967
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115967/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115967/reads/true.mvome.reads1.fq.gz in2=results/SRR12115967/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115967/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115967/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115967/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 522 with external jobid 'Submitted batch job 28446'.

[Wed Jun 22 16:01:55 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115962/reads/true.mvome.reads1.fq.gz, results/SRR12115962/reads/true.mvome.reads2.fq.gz, results/SRR12115962/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115962/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115962/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 432
    reason: Missing output files: results/SRR12115962/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115962
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115962/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115962/reads/true.mvome.reads1.fq.gz in2=results/SRR12115962/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115962/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115962/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115962/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 432 with external jobid 'Submitted batch job 28447'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115932/reads/true.mvome.reads1.fq.gz, results/SRR12115932/reads/true.mvome.reads2.fq.gz, results/SRR12115932/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115932/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115932/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 306
    reason: Missing output files: results/SRR12115932/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115932
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115932/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115932/reads/true.mvome.reads1.fq.gz in2=results/SRR12115932/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115932/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115932/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115932/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 306 with external jobid 'Submitted batch job 28448'.

[Wed Jun 22 16:01:56 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/mv3/reads/virome.reads1.fastq.gz, results/mv3/reads/virome.reads2.fastq.gz, results/mv3/contigs/true.virome.fasta
    output: results/mv3/reads/true.virome.reads1.fq.gz, results/mv3/reads/true.virome.reads2.fq.gz, results/mv3/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/mv3/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/mv3/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 141
    reason: Missing output files: results/mv3/reads/true.virome.reads1.fq.gz, results/mv3/reads/true.virome.reads2.fq.gz
    wildcards: sample=mv3
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv3/mappings/input_reads_vs_true_virome_contigs/
        if [ -s results/mv3/contigs/true.virome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv3/reads/virome.reads1.fastq.gz in2=results/mv3/reads/virome.reads2.fastq.gz             ref=results/mv3/contigs/true.virome.fasta             outm=results/mv3/reads/true.virome.reads1.fq.gz outm2=results/mv3/reads/true.virome.reads2.fq.gz             scafstats=results/mv3/mappings/input_reads_vs_true_virome_contigs/scafstats.txt             rpkm=results/mv3/mappings/input_reads_vs_true_virome_contigs/rpkm.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv3/reads/true.virome.reads1.fq.gz results/mv3/reads/true.virome.reads2.fq.gz results/mv3/mappings/input_reads_vs_true_virome_contigs/scafstats.txt results/mv3/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
        fi        
        
Submitted job 141 with external jobid 'Submitted batch job 28449'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/mv6/reads/true.virome.reads1.fq.gz, results/mv6/reads/true.virome.reads2.fq.gz
    output: results/mv6/kaiju/virome.out, results/mv6/kaiju/virome_summary.tsv
    jobid: 194
    reason: Missing output files: results/mv6/kaiju/virome_summary.tsv
    wildcards: sample=mv6
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv6/kaiju
        
        if [ -s results/mv6/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv6/reads/true.virome.reads1.fq.gz             -j results/mv6/reads/true.virome.reads2.fq.gz             -o results/mv6/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv6/kaiju/virome_summary.tsv results/mv6/kaiju/virome.out
        else
            touch results/mv6/kaiju/virome.out results/mv6/kaiju/virome_summary.tsv
        fi
        
Submitted job 194 with external jobid 'Submitted batch job 28450'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/SRR12115949/reads/true.virome.reads1.fq.gz, results/SRR12115949/reads/true.virome.reads2.fq.gz
    output: results/SRR12115949/kaiju/virome.out, results/SRR12115949/kaiju/virome_summary.tsv
    jobid: 374
    reason: Missing output files: results/SRR12115949/kaiju/virome_summary.tsv
    wildcards: sample=SRR12115949
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115949/kaiju
        
        if [ -s results/SRR12115949/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/SRR12115949/reads/true.virome.reads1.fq.gz             -j results/SRR12115949/reads/true.virome.reads2.fq.gz             -o results/SRR12115949/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/SRR12115949/kaiju/virome_summary.tsv results/SRR12115949/kaiju/virome.out
        else
            touch results/SRR12115949/kaiju/virome.out results/SRR12115949/kaiju/virome_summary.tsv
        fi
        
Submitted job 374 with external jobid 'Submitted batch job 28451'.

[Wed Jun 22 16:01:56 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/mv11/reads/virome.reads1.fastq.gz, results/mv11/reads/virome.reads2.fastq.gz, results/mv11/contigs/true.mvome.fasta
    output: results/mv11/reads/true.mvome.reads1.fq.gz, results/mv11/reads/true.mvome.reads2.fq.gz, results/mv11/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/mv11/log/map_virome_reads_to_mv_contigs.log
    jobid: 22
    reason: Missing output files: results/mv11/reads/true.mvome.reads2.fq.gz, results/mv11/reads/true.mvome.reads1.fq.gz
    wildcards: sample=mv11
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv11/mappings/input_reads_vs_mv_contigs/

        if [ -s results/mv11/contigs/true.mvome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv11/reads/virome.reads1.fastq.gz in2=results/mv11/reads/virome.reads2.fastq.gz             ref=results/mv11/contigs/true.mvome.fasta             outm=results/mv11/reads/true.mvome.reads1.fq.gz outm2=results/mv11/reads/true.mvome.reads2.fq.gz             statsfile=results/mv11/mappings/input_reads_vs_mv_contigs/statsfile.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv11/reads/true.mvome.reads1.fq.gz results/mv11/reads/true.mvome.reads2.fq.gz results/mv11/mappings/input_reads_vs_mv_contigs/statsfile.txt
        fi
        
Submitted job 22 with external jobid 'Submitted batch job 28452'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115965/reads/true.mvome.reads1.fq.gz, results/SRR12115965/reads/true.mvome.reads2.fq.gz, results/SRR12115965/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115965/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115965/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 486
    reason: Missing output files: results/SRR12115965/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115965
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115965/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115965/reads/true.mvome.reads1.fq.gz in2=results/SRR12115965/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115965/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115965/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115965/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 486 with external jobid 'Submitted batch job 28453'.

[Wed Jun 22 16:01:56 2022]
rule viromeQC_virome:
    input: results/mv5/reads/true.virome.reads1.fq.gz, results/mv5/reads/true.virome.reads2.fq.gz
    output: results/mv5/viromeQC/virome_QC.tsv
    jobid: 179
    reason: Missing output files: results/mv5/viromeQC/virome_QC.tsv
    wildcards: sample=mv5
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv5/viromeQC

        if [ -s results/mv5/reads/true.virome.reads1.fq.gz ]; then
            python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental             --diamond_threads 8 --bowtie2_threads 8             -i results/mv5/reads/true.virome.reads1.fq.gz results/mv5/reads/true.virome.reads2.fq.gz             -o results/mv5/viromeQC/virome_QC.tsv
        else
            touch results/mv5/viromeQC/virome_QC.tsv
        fi
        
Submitted job 179 with external jobid 'Submitted batch job 28454'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/mv14/reads/true.virome.reads1.fq.gz, results/mv14/reads/true.virome.reads2.fq.gz
    output: results/mv14/kaiju/virome.out, results/mv14/kaiju/virome_summary.tsv
    jobid: 68
    reason: Missing output files: results/mv14/kaiju/virome_summary.tsv
    wildcards: sample=mv14
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv14/kaiju
        
        if [ -s results/mv14/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv14/reads/true.virome.reads1.fq.gz             -j results/mv14/reads/true.virome.reads2.fq.gz             -o results/mv14/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv14/kaiju/virome_summary.tsv results/mv14/kaiju/virome.out
        else
            touch results/mv14/kaiju/virome.out results/mv14/kaiju/virome_summary.tsv
        fi
        
Submitted job 68 with external jobid 'Submitted batch job 28455'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115930/reads/true.mvome.reads1.fq.gz, results/SRR12115930/reads/true.mvome.reads2.fq.gz, results/SRR12115930/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115930/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115930/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 270
    reason: Missing output files: results/SRR12115930/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115930
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115930/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115930/reads/true.mvome.reads1.fq.gz in2=results/SRR12115930/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115930/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115930/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115930/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 270 with external jobid 'Submitted batch job 28456'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115938/reads/true.mvome.reads1.fq.gz, results/SRR12115938/reads/true.mvome.reads2.fq.gz, results/SRR12115938/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115938/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115938/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 360
    reason: Missing output files: results/SRR12115938/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115938
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115938/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115938/reads/true.mvome.reads1.fq.gz in2=results/SRR12115938/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115938/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115938/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115938/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 360 with external jobid 'Submitted batch job 28457'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115963/reads/true.mvome.reads1.fq.gz, results/SRR12115963/reads/true.mvome.reads2.fq.gz, results/SRR12115963/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115963/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115963/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 450
    reason: Missing output files: results/SRR12115963/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115963
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115963/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115963/reads/true.mvome.reads1.fq.gz in2=results/SRR12115963/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115963/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115963/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115963/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 450 with external jobid 'Submitted batch job 28458'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115968/reads/true.mvome.reads1.fq.gz, results/SRR12115968/reads/true.mvome.reads2.fq.gz, results/SRR12115968/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115968/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115968/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 540
    reason: Missing output files: results/SRR12115968/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115968
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115968/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115968/reads/true.mvome.reads1.fq.gz in2=results/SRR12115968/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115968/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115968/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115968/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 540 with external jobid 'Submitted batch job 28459'.

[Wed Jun 22 16:01:56 2022]
rule platon:
    input: results/mv4/contigs/virome.contigs.filtered.fasta, results/mv4/enough_filtered_virome_contigs.txt
    output: results/mv4/platon_out/platon_plasmids.log
    jobid: 157
    reason: Forced execution
    wildcards: sample=mv4
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        platon --db /home/dlueckin/dbs/platon_db/db/ --prefix platon_plasmids         --output results/mv4/platon_out/         --threads 8         results/mv4/contigs/virome.contigs.filtered.fasta
        
Submitted job 157 with external jobid 'Submitted batch job 28460'.

[Wed Jun 22 16:01:56 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/mv15/reads/virome.reads1.fastq.gz, results/mv15/reads/virome.reads2.fastq.gz, results/mv15/contigs/true.mvome.fasta
    output: results/mv15/reads/true.mvome.reads1.fq.gz, results/mv15/reads/true.mvome.reads2.fq.gz, results/mv15/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/mv15/log/map_virome_reads_to_mv_contigs.log
    jobid: 76
    reason: Missing output files: results/mv15/reads/true.mvome.reads1.fq.gz, results/mv15/reads/true.mvome.reads2.fq.gz
    wildcards: sample=mv15
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv15/mappings/input_reads_vs_mv_contigs/

        if [ -s results/mv15/contigs/true.mvome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv15/reads/virome.reads1.fastq.gz in2=results/mv15/reads/virome.reads2.fastq.gz             ref=results/mv15/contigs/true.mvome.fasta             outm=results/mv15/reads/true.mvome.reads1.fq.gz outm2=results/mv15/reads/true.mvome.reads2.fq.gz             statsfile=results/mv15/mappings/input_reads_vs_mv_contigs/statsfile.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv15/reads/true.mvome.reads1.fq.gz results/mv15/reads/true.mvome.reads2.fq.gz results/mv15/mappings/input_reads_vs_mv_contigs/statsfile.txt
        fi
        
Submitted job 76 with external jobid 'Submitted batch job 28461'.

[Wed Jun 22 16:01:56 2022]
rule viromeQC_mvome:
    input: results/mv16/reads/true.mvome.reads1.fq.gz, results/mv16/reads/true.mvome.reads2.fq.gz
    output: results/mv16/viromeQC/mvome_QC.tsv
    jobid: 106
    reason: Missing output files: results/mv16/viromeQC/mvome_QC.tsv
    wildcards: sample=mv16
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv16/viromeQC

        if [ -s results/mv16/reads/true.mvome.reads1.fq.gz ]; then
            python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental             --diamond_threads 8 --bowtie2_threads 8             -i results/mv16/reads/true.mvome.reads1.fq.gz results/mv16/reads/true.mvome.reads2.fq.gz             -o results/mv16/viromeQC/mvome_QC.tsv
        else
            touch results/mv16/viromeQC/mvome_QC.tsv
        fi
        
Submitted job 106 with external jobid 'Submitted batch job 28462'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/SRR12115962/reads/true.virome.reads1.fq.gz, results/SRR12115962/reads/true.virome.reads2.fq.gz
    output: results/SRR12115962/kaiju/virome.out, results/SRR12115962/kaiju/virome_summary.tsv
    jobid: 428
    reason: Missing output files: results/SRR12115962/kaiju/virome_summary.tsv
    wildcards: sample=SRR12115962
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115962/kaiju
        
        if [ -s results/SRR12115962/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/SRR12115962/reads/true.virome.reads1.fq.gz             -j results/SRR12115962/reads/true.virome.reads2.fq.gz             -o results/SRR12115962/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/SRR12115962/kaiju/virome_summary.tsv results/SRR12115962/kaiju/virome.out
        else
            touch results/SRR12115962/kaiju/virome.out results/SRR12115962/kaiju/virome_summary.tsv
        fi
        
Submitted job 428 with external jobid 'Submitted batch job 28463'.

[Wed Jun 22 16:01:56 2022]
rule viromeQC_virome:
    input: results/mv1/reads/true.virome.reads1.fq.gz, results/mv1/reads/true.virome.reads2.fq.gz
    output: results/mv1/viromeQC/virome_QC.tsv
    jobid: 17
    reason: Missing output files: results/mv1/viromeQC/virome_QC.tsv
    wildcards: sample=mv1
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv1/viromeQC

        if [ -s results/mv1/reads/true.virome.reads1.fq.gz ]; then
            python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental             --diamond_threads 8 --bowtie2_threads 8             -i results/mv1/reads/true.virome.reads1.fq.gz results/mv1/reads/true.virome.reads2.fq.gz             -o results/mv1/viromeQC/virome_QC.tsv
        else
            touch results/mv1/viromeQC/virome_QC.tsv
        fi
        
Submitted job 17 with external jobid 'Submitted batch job 28464'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115966/reads/true.mvome.reads1.fq.gz, results/SRR12115966/reads/true.mvome.reads2.fq.gz, results/SRR12115966/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115966/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115966/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 504
    reason: Missing output files: results/SRR12115966/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115966
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115966/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115966/reads/true.mvome.reads1.fq.gz in2=results/SRR12115966/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115966/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115966/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115966/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 504 with external jobid 'Submitted batch job 28465'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/mv16/reads/true.mvome.reads1.fq.gz, results/mv16/reads/true.mvome.reads2.fq.gz, results/mv16/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/mv16/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/mv16/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 108
    reason: Missing output files: results/mv16/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=mv16
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv16/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/mv16/reads/true.mvome.reads1.fq.gz in2=results/mv16/reads/true.mvome.reads2.fq.gz         ref=results/mv16/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/mv16/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/mv16/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 108 with external jobid 'Submitted batch job 28466'.

[Wed Jun 22 16:01:56 2022]
rule map_virome_reads_to_true_virome_contigs:
    input: results/mv2/reads/virome.reads1.fastq.gz, results/mv2/reads/virome.reads2.fastq.gz, results/mv2/contigs/true.virome.fasta
    output: results/mv2/reads/true.virome.reads1.fq.gz, results/mv2/reads/true.virome.reads2.fq.gz, results/mv2/mappings/input_reads_vs_true_virome_contigs/scafstats.txt, results/mv2/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
    log: results/mv2/log/map_virome_reads_vs_true_virome_contigs.log
    jobid: 123
    reason: Missing output files: results/mv2/reads/true.virome.reads1.fq.gz, results/mv2/reads/true.virome.reads2.fq.gz
    wildcards: sample=mv2
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv2/mappings/input_reads_vs_true_virome_contigs/
        if [ -s results/mv2/contigs/true.virome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv2/reads/virome.reads1.fastq.gz in2=results/mv2/reads/virome.reads2.fastq.gz             ref=results/mv2/contigs/true.virome.fasta             outm=results/mv2/reads/true.virome.reads1.fq.gz outm2=results/mv2/reads/true.virome.reads2.fq.gz             scafstats=results/mv2/mappings/input_reads_vs_true_virome_contigs/scafstats.txt             rpkm=results/mv2/mappings/input_reads_vs_true_virome_contigs/rpkm.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv2/reads/true.virome.reads1.fq.gz results/mv2/reads/true.virome.reads2.fq.gz results/mv2/mappings/input_reads_vs_true_virome_contigs/scafstats.txt results/mv2/mappings/input_reads_vs_true_virome_contigs/rpkm.txt
        fi        
        
Submitted job 123 with external jobid 'Submitted batch job 28467'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/mv1/reads/true.virome.reads1.fq.gz, results/mv1/reads/true.virome.reads2.fq.gz
    output: results/mv1/kaiju/virome.out, results/mv1/kaiju/virome_summary.tsv
    jobid: 14
    reason: Missing output files: results/mv1/kaiju/virome_summary.tsv
    wildcards: sample=mv1
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv1/kaiju
        
        if [ -s results/mv1/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv1/reads/true.virome.reads1.fq.gz             -j results/mv1/reads/true.virome.reads2.fq.gz             -o results/mv1/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv1/kaiju/virome_summary.tsv results/mv1/kaiju/virome.out
        else
            touch results/mv1/kaiju/virome.out results/mv1/kaiju/virome_summary.tsv
        fi
        
Submitted job 14 with external jobid 'Submitted batch job 28468'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115931/reads/true.mvome.reads1.fq.gz, results/SRR12115931/reads/true.mvome.reads2.fq.gz, results/SRR12115931/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115931/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115931/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 288
    reason: Missing output files: results/SRR12115931/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115931
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115931/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115931/reads/true.mvome.reads1.fq.gz in2=results/SRR12115931/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115931/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115931/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115931/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 288 with external jobid 'Submitted batch job 28469'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115964/reads/true.mvome.reads1.fq.gz, results/SRR12115964/reads/true.mvome.reads2.fq.gz, results/SRR12115964/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115964/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115964/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 468
    reason: Missing output files: results/SRR12115964/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115964
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115964/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115964/reads/true.mvome.reads1.fq.gz in2=results/SRR12115964/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115964/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115964/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115964/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 468 with external jobid 'Submitted batch job 28470'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115969/reads/true.mvome.reads1.fq.gz, results/SRR12115969/reads/true.mvome.reads2.fq.gz, results/SRR12115969/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115969/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115969/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 558
    reason: Missing output files: results/SRR12115969/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115969
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115969/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115969/reads/true.mvome.reads1.fq.gz in2=results/SRR12115969/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115969/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115969/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115969/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 558 with external jobid 'Submitted batch job 28471'.

[Wed Jun 22 16:01:56 2022]
rule kaiju_virome:
    input: results/mv5/reads/true.virome.reads1.fq.gz, results/mv5/reads/true.virome.reads2.fq.gz
    output: results/mv5/kaiju/virome.out, results/mv5/kaiju/virome_summary.tsv
    jobid: 176
    reason: Missing output files: results/mv5/kaiju/virome_summary.tsv
    wildcards: sample=mv5
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv5/kaiju
        
        if [ -s results/mv5/reads/true.virome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv5/reads/true.virome.reads1.fq.gz             -j results/mv5/reads/true.virome.reads2.fq.gz             -o results/mv5/kaiju/virome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv5/kaiju/virome_summary.tsv results/mv5/kaiju/virome.out
        else
            touch results/mv5/kaiju/virome.out results/mv5/kaiju/virome_summary.tsv
        fi
        
Submitted job 176 with external jobid 'Submitted batch job 28472'.

[Wed Jun 22 16:01:56 2022]
rule map_mv_positive_reads_to_metagenome:
    input: results/SRR12115949/reads/true.mvome.reads1.fq.gz, results/SRR12115949/reads/true.mvome.reads2.fq.gz, results/SRR12115949/contigs/metagenome.contigs.filtered.fasta.gz
    output: results/SRR12115949/mappings/mvome_positive_vs_metagenome/rpkm.txt, results/SRR12115949/mappings/mvome_positive_vs_metagenome/scafstats.txt
    jobid: 378
    reason: Missing output files: results/SRR12115949/mappings/mvome_positive_vs_metagenome/scafstats.txt
    wildcards: sample=SRR12115949
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115949/mappings/mvome_positive_vs_metagenome/

        bbmap.sh in=results/SRR12115949/reads/true.mvome.reads1.fq.gz in2=results/SRR12115949/reads/true.mvome.reads2.fq.gz         ref=results/SRR12115949/contigs/metagenome.contigs.filtered.fasta.gz         scafstats=results/SRR12115949/mappings/mvome_positive_vs_metagenome/scafstats.txt         rpkm=results/SRR12115949/mappings/mvome_positive_vs_metagenome/rpkm.txt         t=8         nodisk
        
Submitted job 378 with external jobid 'Submitted batch job 28473'.

[Wed Jun 22 16:01:56 2022]
rule viromeQC_virome:
    input: results/SRR12115962/reads/true.virome.reads1.fq.gz, results/SRR12115962/reads/true.virome.reads2.fq.gz
    output: results/SRR12115962/viromeQC/virome_QC.tsv
    jobid: 431
    reason: Missing output files: results/SRR12115962/viromeQC/virome_QC.tsv
    wildcards: sample=SRR12115962
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/SRR12115962/viromeQC

        if [ -s results/SRR12115962/reads/true.virome.reads1.fq.gz ]; then
            python /home/dlueckin/bin/viromeqc/viromeQC.py -w environmental             --diamond_threads 8 --bowtie2_threads 8             -i results/SRR12115962/reads/true.virome.reads1.fq.gz results/SRR12115962/reads/true.virome.reads2.fq.gz             -o results/SRR12115962/viromeQC/virome_QC.tsv
        else
            touch results/SRR12115962/viromeQC/virome_QC.tsv
        fi
        
Submitted job 431 with external jobid 'Submitted batch job 28474'.

[Wed Jun 22 16:01:57 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/mv6/reads/virome.reads1.fastq.gz, results/mv6/reads/virome.reads2.fastq.gz, results/mv6/contigs/true.mvome.fasta
    output: results/mv6/reads/true.mvome.reads1.fq.gz, results/mv6/reads/true.mvome.reads2.fq.gz, results/mv6/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/mv6/log/map_virome_reads_to_mv_contigs.log
    jobid: 184
    reason: Missing output files: results/mv6/reads/true.mvome.reads2.fq.gz, results/mv6/reads/true.mvome.reads1.fq.gz
    wildcards: sample=mv6
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv6/mappings/input_reads_vs_mv_contigs/

        if [ -s results/mv6/contigs/true.mvome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv6/reads/virome.reads1.fastq.gz in2=results/mv6/reads/virome.reads2.fastq.gz             ref=results/mv6/contigs/true.mvome.fasta             outm=results/mv6/reads/true.mvome.reads1.fq.gz outm2=results/mv6/reads/true.mvome.reads2.fq.gz             statsfile=results/mv6/mappings/input_reads_vs_mv_contigs/statsfile.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv6/reads/true.mvome.reads1.fq.gz results/mv6/reads/true.mvome.reads2.fq.gz results/mv6/mappings/input_reads_vs_mv_contigs/statsfile.txt
        fi
        
Submitted job 184 with external jobid 'Submitted batch job 28475'.

[Wed Jun 22 16:01:57 2022]
rule map_virome_reads_to_mv_contigs:
    input: results/mv1/reads/virome.reads1.fastq.gz, results/mv1/reads/virome.reads2.fastq.gz, results/mv1/contigs/true.mvome.fasta
    output: results/mv1/reads/true.mvome.reads1.fq.gz, results/mv1/reads/true.mvome.reads2.fq.gz, results/mv1/mappings/input_reads_vs_mv_contigs/statsfile.txt
    log: results/mv1/log/map_virome_reads_to_mv_contigs.log
    jobid: 4
    reason: Missing output files: results/mv1/reads/true.mvome.reads1.fq.gz, results/mv1/reads/true.mvome.reads2.fq.gz
    wildcards: sample=mv1
    resources: tmpdir=/tmp, mem=100G, time=12:00:00, ntasks=8


        mkdir -p results/mv1/mappings/input_reads_vs_mv_contigs/

        if [ -s results/mv1/contigs/true.mvome.fasta ]; then
            # the input contig file is NOT empty
            bbmap.sh in=results/mv1/reads/virome.reads1.fastq.gz in2=results/mv1/reads/virome.reads2.fastq.gz             ref=results/mv1/contigs/true.mvome.fasta             outm=results/mv1/reads/true.mvome.reads1.fq.gz outm2=results/mv1/reads/true.mvome.reads2.fq.gz             statsfile=results/mv1/mappings/input_reads_vs_mv_contigs/statsfile.txt             t=8             nodisk
        else
            # the input contig file IS empty
            touch results/mv1/reads/true.mvome.reads1.fq.gz results/mv1/reads/true.mvome.reads2.fq.gz results/mv1/mappings/input_reads_vs_mv_contigs/statsfile.txt
        fi
        
Submitted job 4 with external jobid 'Submitted batch job 28476'.
[Wed Jun 22 16:02:34 2022]
Finished job 108.
1 of 115 steps (1%) done
Select jobs to execute...

[Wed Jun 22 16:02:34 2022]
rule kaiju_mvome:
    input: results/mv16/reads/true.mvome.reads1.fq.gz, results/mv16/reads/true.mvome.reads2.fq.gz
    output: results/mv16/kaiju/mvome.out, results/mv16/kaiju/mvome_summary.tsv
    jobid: 93
    reason: Missing output files: results/mv16/kaiju/mvome_summary.tsv
    wildcards: sample=mv16
    resources: tmpdir=/tmp, mem=250G, time=12:00:00, ntasks=8


        mkdir -p results/mv16/kaiju
        
        if [ -s results/mv16/reads/true.mvome.reads1.fq.gz ]; then
            kaiju-multi -z 8             -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -f /bioinf/home/dlueckin/dbs/kaiju_db_nr/kaiju_db_nr.fmi             -i results/mv16/reads/true.mvome.reads1.fq.gz             -j results/mv16/reads/true.mvome.reads2.fq.gz             -o results/mv16/kaiju/mvome.out

            kaiju2table -t /bioinf/home/dlueckin/dbs/kaiju_db_nr/nodes.dmp -n /bioinf/home/dlueckin/dbs/kaiju_db_nr/names.dmp             -r genus -o results/mv16/kaiju/mvome_summary.tsv results/mv16/kaiju/mvome.out
        else
            touch results/mv16/kaiju/mvome.out results/mv16/kaiju/mvome_summary.tsv
        fi
        
Submitted job 93 with external jobid 'Submitted batch job 28477'.
